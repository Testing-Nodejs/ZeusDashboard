(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[55],{624:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return o}));var a="https://zeusservices.onrender.com/api/",o="https://zeusservices.onrender.com/"},625:function(e,n,t){},632:function(e,n,t){"use strict";var a=t(634),o=t(635);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t(1)),c=(0,a(t(636)).default)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");n.default=c},633:function(e,n,t){"use strict";var a=t(634),o=t(635);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t(1)),c=(0,a(t(636)).default)(i.createElement("path",{d:"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteSharp");n.default=c},830:function(e,n,t){"use strict";t.r(n);var a=t(25),o=t(627),i=t(1),c=t.n(i),d=t(624),l=t(628),s=t.n(l),m=t(632),r=t.n(m),p=t(633),C=t.n(p),j=t(630),y=t.n(j),u=t(626),O=(t(625),t(12)),h={placeholder:"Search here...",label:"Search:  "},b={label:"Rows:",values:[5,10,25,50,75,100]},x=[{key:"Action"},{key:"Head Office"},{key:"CompanyName"},{key:"Short Code"},{key:"Company Email"},{key:"Company Phone"},{key:"Company Address"},{key:"Company Image"}];n.default=function(){var e=Object(i.useState)(!0),n=Object(o.a)(e,2),t=n[0],l=n[1],m=Object(i.useState)(!1),p=Object(o.a)(m,2),j=p[0],f=p[1],N=Object(i.useState)([]),A=Object(o.a)(N,2),E=A[0],g=A[1],P=Object(i.useState)([]),v=Object(o.a)(P,2),M=v[0],_=v[1],I=Object(i.useState)({HQID:"-1",CompanyName:"",CompanyKey:"",CompanyEmail:"",CompanyPhone:"",CompanyAddress:"",CompanyPkid:"",CompanyImage:"",CompanyColor:""}),w=Object(o.a)(I,2),Y=w[0],H=w[1],S=y.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",y.a.stopTimer),e.addEventListener("mouseleave",y.a.resumeTimer)}});c.a.useEffect((function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:d.a+"HOs",headers:{"content-type":"application/json"}}).then((function(e){console.log(e.data);var n=e.data.map((function(e){return Object(O.jsx)("option",{value:e.HEAD_OFFICE_PKID,children:e.HEAD_OFFICE_NAME})}));g(n),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),D()}),[]);var D=function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:d.a+"companies",headers:{"content-type":"application/json"}}).then((function(e){var n=e.data.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{CompanyName:e.COMPANY_NAME,HQ:e.HQ_NAME,"Short Code":e.COMPANY_SHORT_KEY,"Company Email":e.COMPANY_EMAIL,"Company Phone":e.COMPANY_PHONE,"Company Address":e.COMPANY_ADDRESS,"Head Office":e.HEAD_OFFICE_NAME})}));_(n),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))},L=function(){Y.CompanyEmail.lastIndexOf("@"),Y.CompanyEmail.lastIndexOf(".");if("-1"===Y.HQID)S.fire({icon:"warning",title:"Please Select Company Head Office!"});else if(""===Y.CompanyName||null===Y.CompanyName)S.fire({icon:"warning",title:"Please Enter Company Name!"});else if(""===Y.CompanyKey||null===Y.CompanyKey)S.fire({icon:"warning",title:"Please Enter Company Short Code!"});else if(""===Y.CompanyPhone||null===Y.CompanyPhone)S.fire({icon:"warning",title:"Please Enter Company Contact Number!"});else if(10!==Y.CompanyPhone.length)S.fire({icon:"warning",title:"Please Enter Valid Company Contact Number!"});else{document.getElementById("divLoading").className="show";var e={COMPANY_HQ_FKID:Y.HQID,COMPANY_NAME:Y.CompanyName,COMPANY_SHORT_KEY:Y.CompanyKey,COMPANY_EMAIL:Y.CompanyEmail,COMPANY_PHONE:Y.CompanyPhone,COMPANY_ADDRESS:Y.CompanyAddress,COMPANY_IMAGE:Y.CompanyImage,COMPANY_COLOR:Y.CompanyColor};s.a.post(d.a+"companies",e).then((function(e){"0"===e.data?(y.a.fire({title:"Company Already Exist!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide"):!0===e.data?(y.a.fire({title:"Company Details Added!",icon:"success",confirmButtonText:"OK"}),H({HQID:"-1",CompanyName:"",CompanyKey:"",CompanyEmail:"",CompanyPhone:"",CompanyAddress:"",CompanyPkid:""}),D(),document.getElementById("divLoading").className="hide",window.location.reload()):!1===e.data&&(y.a.fire({title:"Failed To Add!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},K=function(){if("-1"===Y.HQID)S.fire({icon:"warning",title:"Please Select Company Head Office!"});else if(""===Y.CompanyName||null===Y.CompanyName)S.fire({icon:"warning",title:"Please Enter Company Name!"});else if(""===Y.CompanyKey||null===Y.CompanyKey)S.fire({icon:"warning",title:"Please Enter Company Short Code!"});else if(""===Y.CompanyPhone||null===Y.CompanyPhone)S.fire({icon:"warning",title:"Please Enter Company Contact Number!"});else if(10!==Y.CompanyPhone.length)S.fire({icon:"warning",title:"Please Enter Valid Company Contact Number!"});else{document.getElementById("divLoading").className="show";var e={COMPANY_HQ_FKID:Y.HQID,COMPANY_NAME:Y.CompanyName,COMPANY_SHORT_KEY:Y.CompanyKey,COMPANY_EMAIL:Y.CompanyEmail,COMPANY_PHONE:Y.CompanyPhone,COMPANY_ADDRESS:Y.CompanyAddress,COMPANY_PKID:Y.CompanyPkid,COMPANY_IMAGE:Y.CompanyImage,COMPANY_COLOR:Y.CompanyColor};s.a.put(d.a+"companies/"+Y.CompanyPkid,e).then((function(e){!0===e.data?(y.a.fire({title:"Company Details Updated!",icon:"success",confirmButtonText:"OK"}),H({HQID:"-1",CompanyName:"",CompanyKey:"",CompanyEmail:"",CompanyPhone:"",CompanyAddress:"",CompanyPkid:""}),D(),l(!0),f(!1),document.getElementById("divLoading").className="hide",window.location.reload()):!1===e.data&&(y.a.fire({title:"Failed To Update!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},B=function(){return Object(O.jsx)(u.d,{type:"button",onClick:K,size:"md",id:"Add-btn",children:"Update"})},k=function(){return Object(O.jsx)(u.d,{type:"button",onClick:L,size:"md",id:"Add-btn",children:"Add"})};return Object(O.jsxs)("div",{id:"city",children:[Object(O.jsx)("div",{id:"divLoading",children:" "}),Object(O.jsx)("h1",{id:"ccmaster",children:"Company Master"}),Object(O.jsxs)(u.H,{style:{marginTop:"3%"},children:[Object(O.jsx)(u.j,{sm:"12",md:"12",lg:"4",xl:"4",className:"mb-3 mb-xl-0",children:Object(O.jsx)(u.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(O.jsx)(u.f,{children:Object(O.jsx)(u.H,{children:Object(O.jsx)(u.j,{children:Object(O.jsxs)(u.e,{children:[Object(O.jsx)(u.i,{children:"Manage Company"}),Object(O.jsx)(u.f,{children:Object(O.jsxs)(u.t,{action:"",method:"post",className:"form-horizontal",children:[Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Select Head Office"}),Object(O.jsxs)(u.I,{custom:!0,name:"Country",id:"Country",value:Y.HQID,onChange:function(e){H(Object(a.a)(Object(a.a)({},Y),{},{HQID:e.target.value}))},children:[Object(O.jsx)("option",{value:"-1",children:"Select Head Office"}),E]})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Name"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",placeholder:"Company Name",value:Y.CompanyName,onChange:function(e){var n=e.target.value;n=n.replace(/[^A-Z a-z]/gi,""),H(Object(a.a)(Object(a.a)({},Y),{},{CompanyName:n}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Short Code"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",placeholder:"Company Short Code",value:Y.CompanyKey,onChange:function(e){var n=e.target.value;n=n.replace(/[^A-Z a-z]/gi,""),H(Object(a.a)(Object(a.a)({},Y),{},{CompanyKey:n}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Email"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",placeholder:"Company Email",value:Y.CompanyEmail,onChange:function(e){H(Object(a.a)(Object(a.a)({},Y),{},{CompanyEmail:e.target.value}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Contact Number"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",placeholder:"Company Contact Number",value:Y.CompanyPhone,maxLength:"10",onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&H(Object(a.a)(Object(a.a)({},Y),{},{CompanyPhone:e.target.value}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Address"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",placeholder:"Company Address",value:Y.CompanyAddress,onChange:function(e){H(Object(a.a)(Object(a.a)({},Y),{},{CompanyAddress:e.target.value}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{htmlFor:"exampleInputName2",className:"pr-1",children:"Company Image"}),Object(O.jsx)(u.y,{type:"file",id:"exampleInputName2",placeholder:" ",onChange:function(e){document.getElementById("divLoading").className="show";var n=new FormData;n.append("file",e.target.files[0]),s.a.post(d.a+"upload",n).then((function(e){console.log(e.data),H(Object(a.a)(Object(a.a)({},Y),{},{CompanyImage:e.data})),document.getElementById("divLoading").className="hide"}))}})]})}),Object(O.jsx)(u.u,{row:!0,children:Object(O.jsxs)(u.j,{xs:"12",md:"12",children:[Object(O.jsx)(u.z,{children:"Company Color"}),Object(O.jsx)(u.y,{id:"text-input1",name:"text-input",type:"color",placeholder:"Company Address",value:Y.CompanyColor,onChange:function(e){H(Object(a.a)(Object(a.a)({},Y),{},{CompanyColor:e.target.value}))}})]})}),j&&Object(O.jsx)(B,{}),t&&Object(O.jsx)(k,{})]})})]})})})})})}),Object(O.jsx)(u.j,{col:"10",children:Object(O.jsx)(u.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(O.jsx)(u.f,{children:Object(O.jsx)(u.H,{children:Object(O.jsx)(u.j,{children:Object(O.jsxs)(u.e,{children:[Object(O.jsx)(u.i,{children:Object(O.jsxs)(u.H,{children:[Object(O.jsx)(u.j,{md:"8",children:"Added Companies"}),Object(O.jsx)(u.j,{md:"4",children:Object(O.jsx)(u.d,{size:"sm",color:"primary",onClick:function(){var e=0,n=new Array;n.push('"Sl No","Head Office","Company Name","Short Code","Company Email","Company Phone","Company Addess"');M.map((function(t){return e++,n.push('"'+e+'","'+t.HEAD_OFFICE_NAME+'","'+t.COMPANY_NAME+'","'+t.COMPANY_SHORT_KEY+'","'+t.COMPANY_EMAIL+'","'+t.COMPANY_PHONE+'","'+t.COMPANY_ADDRESS+'"')}));var t="All Companies.csv",a=n.join("\n"),o=new Blob([a],{type:"text/csv;charset=utf8;"}),i=document.createElement("a");void 0!==i.download?(i.setAttribute("href",window.URL.createObjectURL(o)),i.setAttribute("download",t),i.style="visibility:hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)):navigator.msSaveBlob&&navigator.msSaveBlob(o,t)},style:{float:"right"},children:"Export To Excel"})})]})}),Object(O.jsx)(u.f,{children:Object(O.jsx)(u.m,{items:M,fields:x,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:h,itemsPerPageSelect:b,columnFilterSlot:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{Action:function(e){return Object(O.jsxs)("td",{children:[Object(O.jsxs)(u.d,{size:"sm",onClick:function(){var n,t,a,o,i,c,d,s,m;n=e.COMPANY_PKID,t=e.COMPANY_HQ_FKID,a=e.COMPANY_NAME,o=e.COMPANY_SHORT_KEY,i=e.COMPANY_EMAIL,c=e.COMPANY_PHONE,d=e.COMPANY_ADDRESS,s=e.COMPANY_IMAGE,H({HQID:t,CompanyName:a,CompanyKey:o,CompanyEmail:i,CompanyPhone:c,CompanyAddress:d,CompanyImage:s,CompanyColor:m,CompanyPkid:n}),l(!1),f(!0)},id:"war-btn",children:[Object(O.jsx)(r.a,{}),e.status]}),Object(O.jsxs)(u.d,{size:"sm",onClick:function(){var n;n=e.COMPANY_PKID,confirm("Are you sure you want to delete")&&(document.getElementById("divLoading").className="show",s()({method:"DELETE",url:d.a+"companies/"+n,headers:{"content-type":"application/json"}}).then((function(e){!0===e.data?(y.a.fire({title:"Selected Company Deleted!",icon:"success",confirmButtonText:"OK"}),D(),document.getElementById("divLoading").className="hide"):(y.a.fire({title:"Failed To Delete Company!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")})).catch((function(e){console.log(e)})))},id:"war-btn1",children:[Object(O.jsx)(C.a,{}),e.status]})]})},"Company Image":function(e){var n="";return n=""===e.COMPANY_IMAGE||null===e.COMPANY_IMAGE?"NoImage.png":e.COMPANY_IMAGE,Object(O.jsx)(c.a.Fragment,{children:Object(O.jsx)("td",{children:Object(O.jsx)(u.A,{href:d.b+"/"+n,target:"_blank",children:Object(O.jsx)(u.x,{src:d.b+"/"+n,fluid:!0,className:"mb-2",style:{width:"100%"}})})})})}}})})]})})})})})})]})]})}}}]);
//# sourceMappingURL=55.9420039a.chunk.js.map