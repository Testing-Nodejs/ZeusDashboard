(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[98],{624:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a="https://zeusservices.onrender.com/api/",c="https://zeusservices.onrender.com/"},625:function(e,t,n){},629:function(e,t,n){"use strict";function a(e){var t=e.date,n=new Date(new Date(t).toISOString().split("T")[0]);return"".concat(n.getDate().toString().padStart(2,"0"),"-").concat((n.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.getFullYear())}n.d(t,"a",(function(){return a}))},880:function(e,t,n){"use strict";n.r(t);var a=n(25),c=n(627),o=n(1),i=n.n(o),r=n(628),l=n.n(r),E=n(626),s=n(630),d=n.n(s),O=n(624),u=n(20),m=n(629),_=(n(625),n(12)),j={placeholder:"Search here...",label:"Search:  "},T={label:"Rows:",values:[5,10,25,50,75,100]},h=[{key:"Status"},{key:"Company"},{key:"Name"},{key:"Contact Number"},{key:"Submited Date"},{key:"From Date"},{key:"To Date"},{key:"Places"},{key:"Export"}];t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],s=Object(o.useState)([]),S=Object(c.a)(s,2),N=S[0],p=S[1],P=Object(o.useState)("-"),g=Object(c.a)(P,2),A=g[0],L=g[1],b=Object(o.useState)("-"),R=Object(c.a)(b,2),y=R[0],M=R[1],v=Object(o.useState)("-"),x=Object(c.a)(v,2),U=x[0],Y=x[1],f=Object(o.useState)(""),D=Object(c.a)(f,2),C=D[0],w=D[1],I=(d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",d.a.stopTimer),e.addEventListener("mouseleave",d.a.resumeTimer)}}),i.a.useCallback((function(){l()({method:"GET",url:O.a+"getAllEmployeeNamesPlanners",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return Object(_.jsx)("option",{value:e.EMPLOYEE_PKID,children:e.EMPLOYEE_NAME})}));Y(t)})).catch((function(e){console.log(e)}))}),[]));i.a.useEffect((function(){document.getElementById("divLoading").className="show",l()({method:"GET",url:O.a+"getAllEmployeePlanners",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{Company:e.COMPANY_NAME,Name:e.EMPLOYEE_NAME,"Contact Number":e.EMPLOYEE_CONTACT})}));r(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),l()({method:"GET",url:O.a+"getAllEmployeePlannersWithPlaces",headers:{"content-type":"application/json"}}).then((function(e){p(e.data),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),I()}),[]);var F=Object(u.g)();return Object(_.jsxs)("div",{id:"city",children:[Object(_.jsx)("div",{id:"divLoading",children:" "}),Object(_.jsx)("h1",{id:"ccmaster",children:"Fortnight Tour Plan"}),Object(_.jsx)(E.H,{style:{marginTop:"3%"},children:Object(_.jsx)(E.j,{col:"12",children:Object(_.jsx)(E.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(_.jsx)(E.f,{children:Object(_.jsx)(E.H,{children:Object(_.jsx)(E.j,{children:Object(_.jsxs)(E.e,{children:[Object(_.jsxs)(E.i,{children:[Object(_.jsxs)(E.H,{children:[Object(_.jsx)(E.j,{col:"6",children:"Fortnight Tour Plan"}),Object(_.jsx)(E.j,{col:"6",children:Object(_.jsx)(E.d,{onClick:function(){document.getElementById("divLoading").className="show";var e=0,t=new Array;t.push('"Sl No","Status","Company","Employee Name","Contact Number","Submited Date","From Date","To Date","Place Visiting Date","Place Name","Remark","Admin Suggestion"');var n="";N.map((function(a){"0"===a.EMPLOYEE_TOUR_PLANNER_STATUS||0===a.EMPLOYEE_TOUR_PLANNER_STATUS?n="Active":"1"===a.EMPLOYEE_TOUR_PLANNER_STATUS||1===a.EMPLOYEE_TOUR_PLANNER_STATUS?n="Completed":"2"!==a.EMPLOYEE_TOUR_PLANNER_STATUS&&2!==a.EMPLOYEE_TOUR_PLANNER_STATUS||(n="Cancelled");var c=new Date(new Date(a.EMPLOYEE_TOUR_PLANNER_FROM_DATE).toISOString().split("T")[0]),o="".concat(c.getDate().toString().padStart(2,"0"),"-").concat((c.getMonth()+1).toString().padStart(2,"0"),"-").concat(c.getFullYear()),i=new Date(new Date(a.EMPLOYEE_TOUR_PLANNER_TO_DATE).toISOString().split("T")[0]),r="".concat(i.getDate().toString().padStart(2,"0"),"-").concat((i.getMonth()+1).toString().padStart(2,"0"),"-").concat(i.getFullYear()),l=new Date(new Date(a.EMPLOYEE_TOUR_PLANNER_PLACES_DATE).toISOString().split("T")[0]),E="".concat(l.getDate().toString().padStart(2,"0"),"-").concat((l.getMonth()+1).toString().padStart(2,"0"),"-").concat(l.getFullYear()),s=new Date(new Date(a.EMPLOYEE_TOUR_PLANNER_CDATE).toISOString().split("T")[0]),d="".concat(s.getDate().toString().padStart(2,"0"),"-").concat((c.getMonth()+1).toString().padStart(2,"0"),"-").concat(s.getFullYear());return e++,t.push('"'+e+'","'+n+'","'+a.COMPANY_NAME+'","'+a.EMPLOYEE_NAME+'","'+a.EMPLOYEE_CONTACT+'","'+d+'","'+o+'","'+r+'","'+E+'","'+a.EMPLOYEE_TOUR_PLANNER_PLACES_NAME+'","'+a.EMPLOYEE_TOUR_PLANNER_PLACES_REMARK+'","'+a.EMPLOYEE_TOUR_PLANNER_SUGGESTION+'"')}));var a="Employee 15 Days Plan.csv",c=t.join("\n"),o=new Blob([c],{type:"text/csv;charset=utf8;"}),i=document.createElement("a");void 0!==i.download?(i.setAttribute("href",window.URL.createObjectURL(o)),i.setAttribute("download",a),i.style="visibility:hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)):navigator.msSaveBlob&&navigator.msSaveBlob(o,a),document.getElementById("divLoading").className="hide"},color:"primary",style:{marginTop:"0%"},size:"sm",id:"AddEmp",children:"Export To Excel"})})]}),Object(_.jsxs)(E.H,{children:[Object(_.jsxs)(E.j,{col:"3",children:[Object(_.jsx)(E.z,{children:"Select Employee"}),Object(_.jsxs)(E.I,{custom:!0,name:"Country",id:"Country",onChange:function(e){w(e.target.value)},value:C,children:[Object(_.jsx)("option",{value:"-1",children:"Select Employee"}),U]})]}),Object(_.jsxs)(E.j,{col:"3",children:[Object(_.jsx)(E.z,{children:"From:"}),Object(_.jsx)(E.y,{type:"date",onChange:function(e){L(e.target.value)},value:A})]}),Object(_.jsxs)(E.j,{col:"3",children:[Object(_.jsx)(E.z,{children:"To:"}),Object(_.jsx)(E.y,{type:"date",onChange:function(e){M(e.target.value)},value:y})]}),Object(_.jsx)(E.j,{col:"3",children:Object(_.jsx)(E.d,{size:"sm",color:"info",style:{marginTop:"28px",width:"100%"},onClick:function(){document.getElementById("divLoading").className="show",l()({method:"GET",url:O.a+"getAllEmployeePlannersByDate/"+A+"/"+y+"/"+C,headers:{"content-type":"application/json"}}).then((function(e){console.log(e,"this is filter response");var t=e.data.map((function(e,t){return Object(a.a)(Object(a.a)({},e),{},{Company:e.COMPANY_NAME,Name:e.EMPLOYEE_NAME,"Contact Number":e.EMPLOYEE_CONTACT})}));r(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),l()({method:"GET",url:O.a+"getAllEmployeePlannersWithPlacesByFilter/"+A+"/"+y+"/"+C,headers:{"content-type":"application/json"}}).then((function(e){p(e.data),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))},children:"Filter"})})]})]}),Object(_.jsx)(E.f,{children:Object(_.jsx)(E.m,{items:n,fields:h,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:j,itemsPerPageSelect:T,columnFilterSlot:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{"Submited Date":function(e){return Object(_.jsx)("td",{children:Object(_.jsx)(m.a,{date:e.EMPLOYEE_TOUR_PLANNER_CDATE})})},"From Date":function(e){return Object(_.jsx)("td",{children:Object(_.jsx)(m.a,{date:e.EMPLOYEE_TOUR_PLANNER_FROM_DATE})})},"To Date":function(e){return Object(_.jsx)("td",{children:Object(_.jsx)(m.a,{date:e.EMPLOYEE_TOUR_PLANNER_TO_DATE})})},Places:function(e){return Object(_.jsx)("td",{children:Object(_.jsx)(E.d,{color:"primary",size:"sm",onClick:function(){F.push("/TourPlaces",{data:e})},children:"View"})})},Export:function(e){return Object(_.jsx)("td",{children:Object(_.jsx)(E.d,{color:"primary",size:"sm",onClick:function(){document.getElementById("divLoading").className="show",l()({method:"GET",url:O.a+"GetTourPlaces/"+e.EMPLOYEE_TOUR_PLANNER_PKID,headers:{"content-type":"application/json"}}).then((function(t){!function(e,t){document.getElementById("divLoading").className="show";var n=0,a=new Array;a.push('"Sl No","Status","Company","Employee Name","Contact Number","From Date","To Date","Place Visiting Date","Place Name","Remark","Admin Suggestion"');var c="";e.map((function(e){"0"===t.EMPLOYEE_TOUR_PLANNER_STATUS||0===t.EMPLOYEE_TOUR_PLANNER_STATUS?c="Active":"1"===t.EMPLOYEE_TOUR_PLANNER_STATUS||1===t.EMPLOYEE_TOUR_PLANNER_STATUS?c="Completed":"2"!==t.EMPLOYEE_TOUR_PLANNER_STATUS&&2!==t.EMPLOYEE_TOUR_PLANNER_STATUS||(c="Cancelled");var o=new Date(new Date(t.EMPLOYEE_TOUR_PLANNER_FROM_DATE).toISOString().split("T")[0]),i="".concat(o.getDate().toString().padStart(2,"0"),"-").concat((o.getMonth()+1).toString().padStart(2,"0"),"-").concat(o.getFullYear()),r=new Date(new Date(t.EMPLOYEE_TOUR_PLANNER_TO_DATE).toISOString().split("T")[0]),l="".concat(r.getDate().toString().padStart(2,"0"),"-").concat((r.getMonth()+1).toString().padStart(2,"0"),"-").concat(r.getFullYear()),E=new Date(new Date(e.EMPLOYEE_TOUR_PLANNER_PLACES_DATE).toISOString().split("T")[0]),s="".concat(E.getDate().toString().padStart(2,"0"),"-").concat((E.getMonth()+1).toString().padStart(2,"0"),"-").concat(E.getFullYear());return n++,a.push('"'+n+'","'+c+'","'+t.COMPANY_NAME+'","'+t.EMPLOYEE_NAME+'","'+t.EMPLOYEE_CONTACT+'","'+i+'","'+l+'","'+s+'","'+e.EMPLOYEE_TOUR_PLANNER_PLACES_NAME+'","'+e.EMPLOYEE_TOUR_PLANNER_PLACES_REMARK+'","'+e.EMPLOYEE_TOUR_PLANNER_SUGGESTION+'"')}));var o="Employee 15 Days Plan.csv",i=a.join("\n"),r=new Blob([i],{type:"text/csv;charset=utf8;"}),l=document.createElement("a");void 0!==l.download?(l.setAttribute("href",window.URL.createObjectURL(r)),l.setAttribute("download",o),l.style="visibility:hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)):navigator.msSaveBlob&&navigator.msSaveBlob(r,o),document.getElementById("divLoading").className="hide"}(t.data,e),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))},children:"To Excel"})})},Status:function(e){return"0"===e.EMPLOYEE_TOUR_PLANNER_STATUS||0===e.EMPLOYEE_TOUR_PLANNER_STATUS?Object(_.jsx)("td",{children:Object(_.jsx)("span",{className:"DispatchedOrders",children:"Active"})}):"1"===e.EMPLOYEE_TOUR_PLANNER_STATUS||1===e.EMPLOYEE_TOUR_PLANNER_STATUS?Object(_.jsx)("td",{children:Object(_.jsx)("span",{className:"ReadyForDelivery",children:"Completed"})}):"2"===e.EMPLOYEE_TOUR_PLANNER_STATUS||2===e.EMPLOYEE_TOUR_PLANNER_STATUS?Object(_.jsx)("td",{children:Object(_.jsx)("span",{className:"Rejected",children:"Cancelled"})}):void 0}}})})]})})})})})})})]})}}}]);
//# sourceMappingURL=98.4717786c.chunk.js.map