{"version":3,"sources":["services/service.js","../node_modules/@material-ui/icons/Edit.js","../node_modules/@material-ui/icons/DeleteSharp.js","views/CustomerMaster/DeleteRequest.js"],"names":["MyApiUrl","ViewImg","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","table","placeholder","label","items","values","fields2","key","ViewCustomers","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","useState","ResponseData","setResponseData","block","setBlock","DelReason","setDelReason","GetAllCustomerRequest","axios","method","url","headers","then","response","data","catch","error","console","log","useEffect","id","col","fields","hover","striped","bordered","sorter","tableFilter","itemsPerPageSelect","columnFilterSlot","size","itemsPerPage","pagination","scopedSlots","i","CUSTOMER_DELETE_REQ_DATE","EMPLOYEE_NAME","CUSTOMER_CATEGORY_NAME","CUSTOMER_TYPE_NAME","CUSTOMER_SUBTYPE_NAME","CUSTOMER_NAME","Email","CUSTOMER_EMAIL","CUSTOMER_MOBILE","Superior","Reason","md","color","onClick","pkid","CUSTOMER_DELETE_REQ_PKID","CUSTOMER_DELETE_REQ_REASON","Action","item","CUSTOMER_DELETE_REQ_ACTIVE","custid","CUSTOMER_DELETE_REQ_CUST_FKID","put","fire","title","icon","confirmButtonText","status","className","show","onClose","closeButton"],"mappings":"iHAAA,oEAWE,IAAMA,EAAW,yCAEXC,EAAU,sC,uDCXlB,IAAIC,EAAyBC,EAAQ,KAEjCC,EAA0BD,EAAQ,KAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,MAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,wJACD,QAEJN,EAAQE,QAAUE,G,iCCjBlB,IAAIT,EAAyBC,EAAQ,KAEjCC,EAA0BD,EAAQ,KAEtCE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,aAAU,EAElB,IAAIC,EAAQN,EAAwBD,EAAQ,IAIxCQ,GAAW,EAFMT,EAAuBC,EAAQ,MAElBM,SAAuBC,EAAME,cAAc,OAAQ,CACnFC,EAAG,sDACD,eAEJN,EAAQE,QAAUE,G,gLCUZG,EAAQ,CAAEC,YAAa,iBAAkBC,MAAO,aAChDC,EAAQ,CAAED,MAAO,QAASE,OAAQ,CAAC,EAAG,GAAI,GAAI,GAAI,GAAI,MACtDC,EAAU,CACd,CAAEC,IAAK,UACP,CAAEA,IAAK,UACP,CAAEA,IAAK,kBACP,CAAEA,IAAK,sBACP,CAAEA,IAAK,qBACP,CAAEA,IAAK,iBACP,CAAEA,IAAK,qBACP,CAAEA,IAAK,iBACP,CAAEA,IAAK,SACP,CAAEA,IAAK,kBACP,CAAEA,IAAK,aAqOMC,UAlOO,WAENC,IAAKC,MAAM,CACvBC,OAAO,EACPC,SAAU,UACVC,mBAAmB,EACnBC,MAAO,KACPC,kBAAkB,EAClBC,QAAS,SAACL,GACRA,EAAMM,iBAAiB,aAAcR,IAAKS,WAC1CP,EAAMM,iBAAiB,aAAcR,IAAKU,gBAR9C,IAF0B,EAccC,mBAAS,IAdvB,mBAcnBC,EAdmB,KAcLC,EAdK,OAeAF,oBAAS,GAfT,mBAenBG,EAfmB,KAeZC,EAfY,OAgBQJ,qBAhBR,mBAgBnBK,EAhBmB,KAgBRC,EAhBQ,KAkBpBC,EAAwB,WAC5BC,IAAM,CACJC,OAAQ,MACRC,IAAK3C,IAAW,gBAChB4C,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACC,GACLX,EAAgBW,EAASC,SAE1BC,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAiElB,OAJAvC,IAAM0C,WAAU,WACdZ,MACC,IAGD,sBAAKa,GAAG,OAAR,UACE,oBAAIA,GAAG,WAAP,2CACA,uBACA,uBACA,cAAC,IAAD,UACE,cAAC,IAAD,CAAMC,IAAI,KAAV,SACE,cAAC,IAAD,CAAOD,GAAG,aAAV,SACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,oCACA,cAAC,IAAD,UACE,cAAC,IAAD,CACEpC,MAAOiB,EACPqB,OAAQpC,EACRqC,OAAK,EACLC,SAAO,EACPC,UAAQ,EACRC,QAAM,EACNC,YAAa9C,EACb+C,mBAAoB5C,EACpB6C,kBAAgB,EAChBC,KAAK,KACLC,aAAc,GACdC,YAAU,EACVC,YAAa,CACX,iBAAkB,SAACC,GAAD,OAChB,6BAAKA,EAAEC,4BAET,qBAAsB,SAACD,GAAD,OACpB,6BAAKA,EAAEE,iBAET,oBAAqB,SAACF,GAAD,OACnB,6BAAKA,EAAEG,0BAET,gBAAiB,SAACH,GAAD,OACf,6BAAKA,EAAEI,sBAET,oBAAqB,SAACJ,GAAD,OACnB,6BAAKA,EAAEK,yBAET,gBAAiB,SAACL,GAAD,OAAO,6BAAKA,EAAEM,iBAC/BC,MAAO,SAACP,GAAD,OAAO,6BAAKA,EAAEQ,kBACrB,iBAAkB,SAACR,GAAD,OAAO,6BAAKA,EAAES,mBAChCC,SAAU,SAACV,GAAD,OAAO,6BAAKA,EAAEE,iBACxBS,OAAQ,SAACX,GAAD,OACN,6BACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAMY,GAAG,KAAT,SACE,cAAC,IAAD,CACEC,MAAM,UACNjB,KAAK,KACLV,GAAG,SACH4B,QAAS,WA5Ef,IAACC,IA8ESf,EAAEgB,yBA7EtC1C,IAAM,CACJC,OAAQ,MACRC,IAAK3C,IAAW,mBAAqBkF,EACrCtC,QAAS,CACP,eAAgB,sBAGjBC,MAAK,SAACC,GACLP,EAAaO,EAASC,KAAK,GAAGqC,+BAE/BpC,OAAM,SAACC,GACNC,QAAQC,IAAIF,MAEhBZ,GAAUD,IA0DoB,yBAgBRiD,OAAQ,SAACC,GACP,OAAwC,IAApCA,EAAKC,2BAEL,+BACE,eAAC,IAAD,CACEN,QAAS,WArIrB,IAACC,EAAMM,EAANN,EAuIeI,EAAKH,yBAvIdK,EAwISF,EAAKG,8BAvIzChD,IACGiD,IAAI1F,IAAW,uBAAyBkF,EAAO,IAAMM,GACrD3C,MAAK,SAACC,IACiB,IAAlBA,EAASC,MACXzB,IAAKqE,KAAK,CACRC,MAAO,iCACPC,KAAM,UACNC,kBAAmB,OAErBtD,KAEAlB,IAAKqE,KAAK,CACRC,MAAO,UACPC,KAAM,QACNC,kBAAmB,WA4HK/B,KAAK,KACLV,GAAG,UARL,UAUE,cAAC,IAAD,IACCiC,EAAKS,UAER,eAAC,IAAD,CACEd,QAAS,WA7HrB,IAACC,IA+HeI,EAAKH,yBA9HzC1C,IAAMiD,IAAI1F,IAAW,uBAAyBkF,GAAMrC,MAAK,SAACC,IAClC,IAAlBA,EAASC,MACXzB,IAAKqE,KAAK,CACRC,MAAO,qCACPC,KAAM,UACNC,kBAAmB,OAErBtD,KAEAlB,IAAKqE,KAAK,CACRC,MAAO,SACPC,KAAM,QACNC,kBAAmB,WAqHO/B,KAAK,KACLV,GAAG,WAPL,UASE,cAAC,IAAD,IACCiC,EAAKS,aAIiC,IAApCT,EAAKC,2BACP,mBAAGS,UAAU,QAAb,sBACsC,IAApCV,EAAKC,2BACP,mBAAGS,UAAU,QAAb,2BADF,uBAc7B,eAAC,IAAD,CAAQC,KAAM7D,EAAO8D,QAAS,kBAAM7D,GAAUD,IAAQ4C,MAAM,OAA5D,UACE,cAAC,IAAD,CAAcmB,aAAW,EAAzB,SACE,cAAC,IAAD,uBAEF,cAAC,IAAD,UACE,4BAAI7D,MAEN,cAAC,IAAD,UACE,cAAC,IAAD,CAAS0C,MAAM,YAAYC,QAAS,kBAAM5C,GAAUD,IAApD","file":"static/js/61.12faffaa.chunk.js","sourcesContent":["// Nodejs Api's\r\n// Local\r\n//  const MyApiUrl = 'http://192.168.1.7:7765/api/';\r\n\r\n//  const ViewImg = 'http://192.168.1.7:7765/';\r\n\r\n// Live\r\n // const MyApiUrl = 'https://ssieducation.in:7765/api/';\r\n\r\n  //const ViewImg = 'https://ssieducation.in:7765/'; \r\n\r\n  const MyApiUrl = 'https://zeusservices.onrender.com/api/';\r\n\r\n  const ViewImg = 'https://zeusservices.onrender.com/'; \r\n\r\nexport {\r\n    MyApiUrl,\r\n    ViewImg,\r\n}\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\"\n}), 'Edit');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6 21h12V7H6v14zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteSharp');\n\nexports.default = _default;","/**\r\n * @author KIMOSABE\r\n * @email Kimosabe@mail.com\r\n * @create date 2021-11-29 12:14:40\r\n * @modify date 2021-12-06 15:20:08\r\n * @desc [description]\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CDataTable,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n} from \"@coreui/react\";\r\nimport Swal from \"sweetalert2\";\r\nimport { MyApiUrl } from \"src/services/service\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteSharpIcon from \"@material-ui/icons/DeleteSharp\";\r\nimport \"../../style.css\";\r\nconst table = { placeholder: \"Search here...\", label: \"Search:  \" };\r\nconst items = { label: \"Rows:\", values: [5, 10, 25, 50, 75, 100] };\r\nconst fields2 = [\r\n  { key: \"Action\" },\r\n  { key: \"Reason\" },\r\n  { key: \"Requested Date\" },\r\n  { key: \"Requested Employee\" },\r\n  { key: \"Customer Category\" },\r\n  { key: \"Customer Type\" },\r\n  { key: \"Customer Sub Type\" },\r\n  { key: \"Customer Name\" },\r\n  { key: \"Email\" },\r\n  { key: \"Contact Number\" },\r\n  { key: \"Superior\" },\r\n];\r\n\r\nconst ViewCustomers = () => {\r\n\r\n  const Toast = Swal.mixin({\r\n    toast: true,\r\n    position: \"top-end\",\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n      toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n    },\r\n  });\r\n\r\n  const [ResponseData, setResponseData] = useState([]);\r\n  const [block, setBlock] = useState(false);\r\n  const [DelReason, setDelReason] = useState();\r\n\r\n  const GetAllCustomerRequest = () => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: MyApiUrl + \"custDeleteReq\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        setResponseData(response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const AcceptRequest = (pkid, custid) => {\r\n    axios\r\n      .put(MyApiUrl + \"custdeleteacceptreq/\" + pkid + \"/\" + custid)\r\n      .then((response) => {\r\n        if (response.data === true) {\r\n          Swal.fire({\r\n            title: \"Customer Deleted Successfully!\",\r\n            icon: \"success\",\r\n            confirmButtonText: \"OK\",\r\n          });\r\n          GetAllCustomerRequest();\r\n        } else {\r\n          Swal.fire({\r\n            title: \"Failed!\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  const RejectRequest = (pkid) => {\r\n    axios.put(MyApiUrl + \"custdeleterejectreq/\" + pkid).then((response) => {\r\n      if (response.data === true) {\r\n        Swal.fire({\r\n          title: \"Customer Deleted Request Rejected!\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n        GetAllCustomerRequest();\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Failed\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const CustomerBlockReason = (pkid) => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: MyApiUrl + \"customerreaoson/\" + pkid + \"\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        setDelReason(response.data[0].CUSTOMER_DELETE_REQ_REASON);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    setBlock(!block);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    GetAllCustomerRequest();\r\n  }, []);\r\n\r\n  return (\r\n    <div id=\"city\">\r\n      <h1 id=\"ccmaster\">View Customers Delete Request</h1>\r\n      <br />\r\n      <br />\r\n      <CRow>\r\n        <CCol col=\"12\">\r\n          <CCard id=\"city-table\">\r\n            <CCardBody>\r\n              <CRow>\r\n                <CCol>\r\n                  <CCard>\r\n                    <CCardHeader>All Customers Request</CCardHeader>\r\n                    <CCardBody>\r\n                      <CDataTable\r\n                        items={ResponseData}\r\n                        fields={fields2}\r\n                        hover\r\n                        striped\r\n                        bordered\r\n                        sorter\r\n                        tableFilter={table}\r\n                        itemsPerPageSelect={items}\r\n                        columnFilterSlot\r\n                        size=\"sm\"\r\n                        itemsPerPage={10}\r\n                        pagination\r\n                        scopedSlots={{\r\n                          \"Requested Date\": (i) => (\r\n                            <td>{i.CUSTOMER_DELETE_REQ_DATE}</td>\r\n                          ),\r\n                          \"Requested Employee\": (i) => (\r\n                            <td>{i.EMPLOYEE_NAME}</td>\r\n                          ),\r\n                          \"Customer Category\": (i) => (\r\n                            <td>{i.CUSTOMER_CATEGORY_NAME}</td>\r\n                          ),\r\n                          \"Customer Type\": (i) => (\r\n                            <td>{i.CUSTOMER_TYPE_NAME}</td>\r\n                          ),\r\n                          \"Customer Sub Type\": (i) => (\r\n                            <td>{i.CUSTOMER_SUBTYPE_NAME}</td>\r\n                          ),\r\n                          \"Customer Name\": (i) => <td>{i.CUSTOMER_NAME}</td>,\r\n                          Email: (i) => <td>{i.CUSTOMER_EMAIL}</td>,\r\n                          \"Contact Number\": (i) => <td>{i.CUSTOMER_MOBILE}</td>,\r\n                          Superior: (i) => <td>{i.EMPLOYEE_NAME}</td>,\r\n                          Reason: (i) => (\r\n                            <td>\r\n                              <CRow>\r\n                                <CCol md=\"10\">\r\n                                  <CButton\r\n                                    color=\"primary\"\r\n                                    size=\"sm\"\r\n                                    id=\"AddEmp\"\r\n                                    onClick={() => {\r\n                                      CustomerBlockReason(\r\n                                        i.CUSTOMER_DELETE_REQ_PKID\r\n                                      );\r\n                                    }}\r\n                                  >\r\n                                    View\r\n                                  </CButton>\r\n                                </CCol>\r\n                              </CRow>\r\n                            </td>\r\n                          ),\r\n                          Action: (item) => {\r\n                            if (item.CUSTOMER_DELETE_REQ_ACTIVE === 0) {\r\n                              return (\r\n                                <td>\r\n                                  <CButton\r\n                                    onClick={() => {\r\n                                      AcceptRequest(\r\n                                        item.CUSTOMER_DELETE_REQ_PKID,\r\n                                        item.CUSTOMER_DELETE_REQ_CUST_FKID\r\n                                      );\r\n                                    }}\r\n                                    size=\"sm\"\r\n                                    id=\"war-btn\"\r\n                                  >\r\n                                    <EditIcon />\r\n                                    {item.status}\r\n                                  </CButton>\r\n                                  <CButton\r\n                                    onClick={() => {\r\n                                      RejectRequest(\r\n                                        item.CUSTOMER_DELETE_REQ_PKID\r\n                                      );\r\n                                    }}\r\n                                    size=\"sm\"\r\n                                    id=\"war-btn1\"\r\n                                  >\r\n                                    <DeleteSharpIcon />\r\n                                    {item.status}\r\n                                  </CButton>\r\n                                </td>\r\n                              );\r\n                            } else if (item.CUSTOMER_DELETE_REQ_ACTIVE === 1) {\r\n                              return <p className=\"fonts\">Accepted</p>;\r\n                            } else if (item.CUSTOMER_DELETE_REQ_ACTIVE === 2) {\r\n                              return <p className=\"fontd\">Rejected</p>;\r\n                            }\r\n                          },\r\n                        }}\r\n                      />\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <CModal show={block} onClose={() => setBlock(!block)} color=\"dark\">\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Reason</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <p>{DelReason}</p>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton color=\"secondary\" onClick={() => setBlock(!block)}>\r\n            Close\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewCustomers;\r\n"],"sourceRoot":""}