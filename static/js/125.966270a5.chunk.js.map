{"version":3,"sources":["services/service.js","views/EmployeeMaster/ExpensesDocuments.js"],"names":["MyApiUrl","ViewImg","table","placeholder","label","items","values","fields","key","ExpensesDocuments","props","Date","location","state","data","EMPLOYEE_EXPENSES_DATE","TravelFrom","EMPLOYEE_EXPENSES_TRAVEL_FROM","TravelTo","EMPLOYEE_EXPENSES_TRAVEL_TO","Company","COMPANY_NAME","Name","EMPLOYEE_NAME","Pho","EMPLOYEE_CONTACT","Distance","EMPLOYEE_EXPENSES_DISTANCE","Mode","EMPLOYEE_EXPENSES_MODE","DailyAllowance","EMPLOYEE_EXPENSES_DAILY_ALLOWANCE","TotalAmount","EMPLOYEE_EXPENSES_TOTAL","ExpensesID","EMPLOYEE_EXPENSES_PKID","Status","EMPLOYEE_EXPENSES_STATUS","useState","ResponseData","setResponseData","AcceptRequest","Swal","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","axios","put","then","response","fire","title","icon","confirmButtonText","history","push","RejectRequest","React","useEffect","method","url","headers","map","item","index","EMPLOYEE_EXPENSES_DOC_NAME","catch","error","console","log","useHistory","id","style","marginTop","md","boxShadow","color","size","onClick","goBack","Fragment","width","className","hover","striped","bordered","sorter","tableFilter","itemsPerPage","pagination","itemsPerPageSelect","scopedSlots","Document","href","EMPLOYEE_EXPENSES_DOC_FILENAME","target"],"mappings":"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","file":"static/js/125.966270a5.chunk.js","sourcesContent":["// Nodejs Api's\r\n// Local\r\n//  const MyApiUrl = 'http://192.168.1.7:7765/api/';\r\n\r\n//  const ViewImg = 'http://192.168.1.7:7765/';\r\n\r\n// Live\r\n // const MyApiUrl = 'https://ssieducation.in:7765/api/';\r\n\r\n  //const ViewImg = 'https://ssieducation.in:7765/'; \r\n\r\n  const MyApiUrl = 'https://zeusservices.onrender.com/api/';\r\n\r\n  const ViewImg = 'https://zeusservices.onrender.com/'; \r\n\r\nexport {\r\n    MyApiUrl,\r\n    ViewImg,\r\n}\r\n","/**\r\n * @author KIMOSABE\r\n * @email Kimosabe@mail.com\r\n * @create date 2021-11-25 17:00:15\r\n * @modify date 2021-12-06 15:32:46\r\n * @desc [description]\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CDataTable,\r\n  CButton,\r\n  CLink,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MyApiUrl, ViewImg } from \"src/services/service\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"../../style.css\";\r\nconst table = { placeholder: \"Search here...\", label: \"Search:  \" };\r\nconst items = { label: \"Rows:\", values: [5, 10, 25, 50, 75, 100] };\r\nconst fields = [{ key: \"Sl No\" }, { key: \"Name\" }, { key: \"Document\" }];\r\n\r\nconst ExpensesDocuments = (props) => {\r\n  const Date = props.location.state.data.EMPLOYEE_EXPENSES_DATE;\r\n  const TravelFrom = props.location.state.data.EMPLOYEE_EXPENSES_TRAVEL_FROM;\r\n  const TravelTo = props.location.state.data.EMPLOYEE_EXPENSES_TRAVEL_TO;\r\n  const Company = props.location.state.data.COMPANY_NAME;\r\n  const Name = props.location.state.data.EMPLOYEE_NAME;\r\n  const Pho = props.location.state.data.EMPLOYEE_CONTACT;\r\n  const Distance = props.location.state.data.EMPLOYEE_EXPENSES_DISTANCE;\r\n  const Mode = props.location.state.data.EMPLOYEE_EXPENSES_MODE;\r\n  const DailyAllowance =\r\n    props.location.state.data.EMPLOYEE_EXPENSES_DAILY_ALLOWANCE;\r\n  const TotalAmount = props.location.state.data.EMPLOYEE_EXPENSES_TOTAL;\r\n  const ExpensesID = props.location.state.data.EMPLOYEE_EXPENSES_PKID;\r\n  const Status = props.location.state.data.EMPLOYEE_EXPENSES_STATUS;\r\n\r\n  const [ResponseData, setResponseData] = useState([]);\r\n\r\n  const Toast = Swal.mixin({\r\n    toast: true,\r\n    position: \"top-end\",\r\n    showConfirmButton: false,\r\n    timer: 1500,\r\n    timerProgressBar: true,\r\n    didOpen: (toast) => {\r\n      toast.addEventListener(\"mouseenter\", Swal.stopTimer);\r\n      toast.addEventListener(\"mouseleave\", Swal.resumeTimer);\r\n    },\r\n  });\r\n\r\n  const GetAllOrderItems = () => {\r\n    axios({\r\n      method: \"GET\",\r\n      url: MyApiUrl + \"GetExpensesDocument/\" + ExpensesID,\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        const items = response.data.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            Name: item.EMPLOYEE_EXPENSES_DOC_NAME,\r\n            \"Sl No\": index + 1,\r\n          };\r\n        });\r\n        setResponseData(items);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const GetButtons = () => {\r\n    if (Status === \"0\" || Status === 0) {\r\n      return (\r\n        <React.Fragment>\r\n          <CCol md=\"1\">\r\n            <CButton\r\n              color=\"primary\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                AcceptRequest();\r\n              }}\r\n            >\r\n              Accept\r\n            </CButton>\r\n          </CCol>\r\n          <CCol md=\"1\">\r\n            <CButton\r\n              color=\"danger\"\r\n              size=\"sm\"\r\n              onClick={() => {\r\n                RejectRequest();\r\n              }}\r\n            >\r\n              Deny\r\n            </CButton>\r\n          </CCol>\r\n        </React.Fragment>\r\n      );\r\n    } else {\r\n      return <CCol md=\"2\"></CCol>;\r\n    }\r\n  };\r\n\r\n  const AcceptRequest = () => {\r\n    axios.put(MyApiUrl + \"AcceptEmpExpenses/\" + ExpensesID).then((response) => {\r\n      if (response.data === true) {\r\n        Swal.fire({\r\n          title: \"Employee Expenses Accepted!\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n        history.push(\"/EmployeeExpenses\");\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Failed To Confirm Employee Expenses!\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n        history.push(\"/EmployeeExpenses\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const RejectRequest = () => {\r\n    axios.put(MyApiUrl + \"RejectEmpExpenses/\" + ExpensesID).then((response) => {\r\n      if (response.data === true) {\r\n        Swal.fire({\r\n          title: \"Employee Expenses Denied!\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n      } else {\r\n        Swal.fire({\r\n          title: \"Failed To Deny Employee Expenses!\",\r\n          icon: \"error\",\r\n          confirmButtonText: \"OK\",\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    GetAllOrderItems();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  let history = useHistory();\r\n  return (\r\n    <div>\r\n      <h1 id=\"ccmaster\">Expenses Documents</h1>\r\n      <CRow style={{ marginTop: \"3%\" }}>\r\n        <CCol md=\"2\" />\r\n        <CCol md=\"12\">\r\n          <CCard style={{ boxShadow: \"0px 0px 1px 1px #959595\" }}>\r\n            <CCardBody>\r\n              <CRow>\r\n                <CCol md=\"1\">\r\n                  <CButton\r\n                    color=\"danger\"\r\n                    size=\"sm\"\r\n                    onClick={() => history.goBack()}\r\n                  >\r\n                    Back\r\n                  </CButton>\r\n                </CCol>\r\n              </CRow>\r\n              <br />\r\n              <CRow>\r\n                <CCol>\r\n                  <CCard>\r\n                    <CCardHeader>\r\n                      <CRow>\r\n                        <CCol md=\"10\">Expenses Details</CCol>\r\n                        {GetButtons()}\r\n                      </CRow>\r\n                    </CCardHeader>\r\n                    <CCardBody>\r\n                      <CRow>\r\n                        <CCol md=\"12\">\r\n                          <table style={{ width: \"100%\" }} id=\"customerDetails\">\r\n                            <tr>\r\n                              <td>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Employee Company :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{Company}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Employee Name :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{Name}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Contact Number :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{Pho}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Date :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\"> {Date}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Travel From :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{TravelFrom}</p>\r\n                                  </td>\r\n                                </tr>\r\n                              </td>\r\n                              <td>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Travel To :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{TravelTo}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Distance :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{Distance}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Mode :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{Mode}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Daily Allowance :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{DailyAllowance}</p>\r\n                                  </td>\r\n                                </tr>\r\n                                <tr>\r\n                                  <th>\r\n                                    <p className=\"p1\">Total Amount :</p>\r\n                                  </th>\r\n                                  <td>\r\n                                    <p className=\"p2\">{TotalAmount}</p>\r\n                                  </td>\r\n                                </tr>\r\n                              </td>\r\n                            </tr>\r\n                          </table>\r\n                        </CCol>\r\n                      </CRow>\r\n                      <hr />\r\n                      <CRow>\r\n                        <CCol md=\"4\">\r\n                          <h4 className=\"p1\">Expenses Documents</h4>\r\n                        </CCol>\r\n                      </CRow>\r\n                      <br />\r\n                      <CDataTable\r\n                        items={ResponseData}\r\n                        fields={fields}\r\n                        hover\r\n                        striped\r\n                        bordered\r\n                        sorter\r\n                        tableFilter={table}\r\n                        itemsPerPage={10}\r\n                        pagination\r\n                        size=\"sm\"\r\n                        itemsPerPageSelect={items}\r\n                        scopedSlots={{\r\n                          Document: (item) => {\r\n                            return (\r\n                              <td>\r\n                                <CLink\r\n                                  href={ViewImg + \"/\" + item.EMPLOYEE_EXPENSES_DOC_FILENAME}\r\n                                  target=\"_blank\"\r\n                                >\r\n                                  {item.EMPLOYEE_EXPENSES_DOC_FILENAME}\r\n                                </CLink>\r\n                              </td>\r\n                            );\r\n                          },\r\n                        }}\r\n                      />\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol md=\"2\" />\r\n      </CRow>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ExpensesDocuments;\r\n"],"sourceRoot":""}