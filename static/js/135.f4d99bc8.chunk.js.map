{"version":3,"sources":["services/service.js","views/OrderSchedulingTeam/OrderItemsSchedule.js"],"names":["MyApiUrl","ViewImg","table","placeholder","label","items","values","fields","key","fields3","fields2","OrderItemsSchedule","props","OrderNumber","location","state","data","ORDER_NUMBER","Company","COMPANY_NAME","Customer","CUSTOMER_NAME","Logistic","ORDER_LOGISTIC","SupplyType","SUPPLY_NAME","Amount","ORDER_ORDER_AMOUNT","Orderpkid","ORDER_PKID","OrderTypeID","ORDER_ORDER_TYPE_FKID","useState","ResponseData","setResponseData","BatchNumbers","setBatchNumbers","block","setblock","ViewBatchNumbers","itemID","ProductID","document","getElementById","className","axios","method","url","headers","then","response","map","item","index","Batch","PRODUCT_BATCH","PRODUCT_BATCH_NUMBER","PRODUCT_BATCH_QUANTITY","catch","error","console","log","React","useEffect","ORDER_ITEM_ACTUAL_AMOUNT","PRODUCT_NAME","Unit","PRD_PACKAGE_UNIT","UNIT_OF_MEASUREMENT_SHORT_KEY","Quantity","ORDER_ITEM_QTY","MRP","PRD_PACKAGE_MRP","ORDER_ITEM_CUSTOMER_PRICE","ORDER_ITEM_TOTAL_AMOUNT","Discount","ORDER_ITEM_DISCOUNT","ORDER_ITEM_FREE_UNIT_SCHEME","history","useHistory","id","md","color","size","onClick","goBack","hover","striped","bordered","sorter","tableFilter","itemsPerPage","pagination","itemsPerPageSelect","scopedSlots","status","push","ORDER_ITEM_PKID","ORDER_ITEM_PRODUCT_FKID","show","onClose","closeButton"],"mappings":"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","file":"static/js/135.f4d99bc8.chunk.js","sourcesContent":["// Nodejs Api's\r\n// Local\r\n//  const MyApiUrl = 'http://192.168.1.7:7765/api/';\r\n\r\n//  const ViewImg = 'http://192.168.1.7:7765/';\r\n\r\n// Live\r\n // const MyApiUrl = 'https://ssieducation.in:7765/api/';\r\n\r\n  //const ViewImg = 'https://ssieducation.in:7765/'; \r\n\r\n  const MyApiUrl = 'https://zeusservices.onrender.com/api/';\r\n\r\n  const ViewImg = 'https://zeusservices.onrender.com/'; \r\n\r\nexport {\r\n    MyApiUrl,\r\n    ViewImg,\r\n}\r\n","/**\r\n * @author KIMOSABE\r\n * @email Kimosabe@mail.com\r\n * @create date 2021-11-25 17:00:15\r\n * @modify date 2021-12-06 15:32:46\r\n * @desc [description]\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CDataTable,\r\n  CButton,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModal,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MyApiUrl } from \"src/services/service\";\r\nimport \"../../style.css\";\r\nconst table = { placeholder: \"Search here...\", label: \"Search:  \" };\r\nconst items = { label: \"Rows:\", values: [5, 10, 25, 50, 75, 100] };\r\nconst fields = [\r\n  { key: \"Sl No\" },\r\n  { key: \"Batch Number\" },\r\n  { key: \"Product Name\" },\r\n  { key: \"Quantity\" },\r\n];\r\nconst fields3 = [\r\n  { key: \"Sl No\" },\r\n  { key: \"Batch Number\" },\r\n  { key: \"Product Name\" },\r\n  { key: \"Unit\" },\r\n];\r\n\r\nconst fields2 = [{ key: \"Sl No\" }, { key: \"Batch\" }, { key: \"Batch Number\" }, { key: \"Batch Quantity\" }];\r\n\r\nconst OrderItemsSchedule = (props) => {\r\n  const OrderNumber = props.location.state.data.ORDER_NUMBER;\r\n  const Company = props.location.state.data.COMPANY_NAME;\r\n  const Customer = props.location.state.data.CUSTOMER_NAME;\r\n  const Logistic = props.location.state.data.ORDER_LOGISTIC;\r\n  const SupplyType = props.location.state.data.SUPPLY_NAME;\r\n  const Amount = props.location.state.data.ORDER_ORDER_AMOUNT;\r\n  const Orderpkid = props.location.state.data.ORDER_PKID;\r\n  const OrderTypeID = props.location.state.data.ORDER_ORDER_TYPE_FKID;\r\n\r\n  const [ResponseData, setResponseData] = useState([]);\r\n  const [BatchNumbers, setBatchNumbers] = useState([]);\r\n  const [block, setblock] = useState(false);\r\n\r\n  const GetAllOrderItems = () => {\r\n    document.getElementById(\"divLoading\").className = \"show\";\r\n    axios({\r\n      method: \"GET\",\r\n      url: MyApiUrl + \"GetOrderItemOrderID/\" + Orderpkid,\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        const items = response.data.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            \"Grand Total\": item.ORDER_ITEM_ACTUAL_AMOUNT,\r\n            \"Sl No\": index + 1,\r\n            \"Product Name\": item.PRODUCT_NAME,\r\n            Unit:\r\n              item.PRD_PACKAGE_UNIT + \" \" + item.UNIT_OF_MEASUREMENT_SHORT_KEY,\r\n            Quantity:\r\n              item.ORDER_ITEM_QTY + \" \" + item.UNIT_OF_MEASUREMENT_SHORT_KEY,\r\n            MRP: item.PRD_PACKAGE_MRP,\r\n            \"Customer Price\": item.ORDER_ITEM_CUSTOMER_PRICE,\r\n            \"Total Amount\": item.ORDER_ITEM_TOTAL_AMOUNT,\r\n            Discount: item.ORDER_ITEM_DISCOUNT + \"%\",\r\n            \"Free Unit/Scheme\": item.ORDER_ITEM_FREE_UNIT_SCHEME,\r\n          };\r\n        });\r\n        setResponseData(items);\r\n        document.getElementById(\"divLoading\").className = \"hide\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const ViewBatchNumbers = (itemID, ProductID) => {\r\n    document.getElementById(\"divLoading\").className = \"show\";\r\n    axios({\r\n      method: \"GET\",\r\n      url:\r\n        MyApiUrl +\r\n        \"/getProductBatchNumbers/\" +\r\n        Orderpkid +\r\n        \"/\" +\r\n        itemID +\r\n        \"/\" +\r\n        ProductID +\r\n        \"\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        const items = response.data.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            \"Sl No\": index + 1,\r\n            Batch: item.PRODUCT_BATCH,\r\n            \"Batch Number\": item.PRODUCT_BATCH_NUMBER,\r\n            \"Batch Quantity\": item.PRODUCT_BATCH_QUANTITY,\r\n          };\r\n        });\r\n        setBatchNumbers(items);\r\n        document.getElementById(\"divLoading\").className = \"hide\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    setblock(!block);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    GetAllOrderItems();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  let history = useHistory();\r\n  return (\r\n    <div>\r\n      <div id=\"divLoading\"> </div>\r\n      <h1 id=\"ccmaster\">Order Item</h1>\r\n      <br />\r\n      <CRow>\r\n        <CCol md=\"2\" />\r\n        <CCol md=\"12\">\r\n          <CCard>\r\n            <CCardBody>\r\n              <CRow>\r\n                <CCol md=\"1\">\r\n                  <CButton\r\n                    color=\"danger\"\r\n                    size=\"sm\"\r\n                    onClick={() => history.goBack()}\r\n                  >\r\n                    Back\r\n                  </CButton>\r\n                </CCol>\r\n              </CRow>\r\n              <br />\r\n              <CRow>\r\n                <CCol>\r\n                  <CCard>\r\n                    <CCardHeader>Order Details</CCardHeader>\r\n                    <CCardBody>\r\n                      <CRow>\r\n                        <CCol md=\"6\">\r\n                          {/* <p className=\"p1\">Order Number :</p> */}\r\n                          <p className=\"p1\">Company :</p>\r\n                          {/* <p className=\"p1\">Customer Name :</p>\r\n                          <p className=\"p1\">Logistic :</p>\r\n                          <p className=\"p1\">Supply Type :</p>\r\n                          <p className=\"p1\">Order Amount :</p> */}\r\n                        </CCol>\r\n                        <CCol md=\"6\">\r\n                          {/* <p className=\"p2\">{OrderNumber}</p> */}\r\n                          <p className=\"p2\">{Company}</p>\r\n                          {/* <p className=\"p2\"> {Customer}</p>\r\n                          <p className=\"p2\">{Logistic}</p>\r\n                          <p className=\"p2\">{SupplyType}</p>\r\n                          <p className=\"p2\">{Amount}</p> */}\r\n                        </CCol>\r\n                      </CRow>\r\n                      <hr />\r\n                      <CRow>\r\n                        <CCol md=\"4\">\r\n                          <h4 className=\"p1\">Order Items / Products</h4>\r\n                        </CCol>\r\n                      </CRow>\r\n                      <br />\r\n                      {OrderTypeID === 3 || OrderTypeID === 4 || OrderTypeID === 5 ?\r\n                        <CDataTable\r\n                          items={ResponseData}\r\n                          fields={fields3}\r\n                          hover\r\n                          striped\r\n                          bordered\r\n                          sorter\r\n                          tableFilter={table}\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          size=\"sm\"\r\n                          itemsPerPageSelect={items}\r\n                          scopedSlots={{\r\n                            \"Batch Number\": (item) => {\r\n                              if (item.status === 0) {\r\n                                return (\r\n                                  <td>\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      onClick={() => {\r\n                                        history.push(\"/ManageBatchNumbers\", {\r\n                                          data: {\r\n                                            item,\r\n                                            OrderNumber,\r\n                                            Company,\r\n                                            Customer,\r\n                                            Logistic,\r\n                                            SupplyType,\r\n                                            Amount,\r\n                                            Orderpkid,\r\n                                          },\r\n                                        });\r\n                                      }}\r\n                                      size=\"sm\"\r\n                                    >\r\n                                      Manage\r\n                                    </CButton>\r\n                                  </td>\r\n                                );\r\n                              } else {\r\n                                return (\r\n                                  <td>\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      onClick={() => {\r\n                                        ViewBatchNumbers(\r\n                                          item.ORDER_ITEM_PKID,\r\n                                          item.ORDER_ITEM_PRODUCT_FKID\r\n                                        );\r\n                                      }}\r\n                                      size=\"sm\"\r\n                                    >\r\n                                      View\r\n                                    </CButton>\r\n                                  </td>\r\n                                );\r\n                              }\r\n                            },\r\n                          }}\r\n                        /> : <CDataTable\r\n                          items={ResponseData}\r\n                          fields={fields}\r\n                          hover\r\n                          striped\r\n                          bordered\r\n                          sorter\r\n                          tableFilter={table}\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          size=\"sm\"\r\n                          itemsPerPageSelect={items}\r\n                          scopedSlots={{\r\n                            \"Batch Number\": (item) => {\r\n                              if (item.status === 0) {\r\n                                return (\r\n                                  <td>\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      onClick={() => {\r\n                                        history.push(\"/ManageBatchNumbers\", {\r\n                                          data: {\r\n                                            item,\r\n                                            OrderNumber,\r\n                                            Company,\r\n                                            Customer,\r\n                                            Logistic,\r\n                                            SupplyType,\r\n                                            Amount,\r\n                                            Orderpkid,\r\n                                          },\r\n                                        });\r\n                                      }}\r\n                                      size=\"sm\"\r\n                                    >\r\n                                      Manage\r\n                                    </CButton>\r\n                                  </td>\r\n                                );\r\n                              } else {\r\n                                return (\r\n                                  <td>\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      onClick={() => {\r\n                                        ViewBatchNumbers(\r\n                                          item.ORDER_ITEM_PKID,\r\n                                          item.ORDER_ITEM_PRODUCT_FKID\r\n                                        );\r\n                                      }}\r\n                                      size=\"sm\"\r\n                                    >\r\n                                      View\r\n                                    </CButton>\r\n                                  </td>\r\n                                );\r\n                              }\r\n                            },\r\n                          }}\r\n                        />}\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol md=\"2\" />\r\n      </CRow>\r\n      <CModal show={block} onClose={() => setblock(!block)} color=\"dark\">\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Product Batch Numbers</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <CRow>\r\n            <CCol md=\"12\">\r\n              <CDataTable\r\n                items={BatchNumbers}\r\n                fields={fields2}\r\n                hover\r\n                striped\r\n                bordered\r\n                sorter\r\n                tableFilter={table}\r\n                itemsPerPage={10}\r\n                pagination\r\n                size=\"sm\"\r\n                itemsPerPageSelect={items}\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton color=\"secondary\" onClick={() => setblock(!block)}>\r\n            Close\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderItemsSchedule;\r\n"],"sourceRoot":""}