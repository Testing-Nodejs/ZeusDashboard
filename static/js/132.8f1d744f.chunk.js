(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[132],{624:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a}));var n="https://zeusservices.onrender.com/api/",a="https://zeusservices.onrender.com/"},625:function(e,t,c){},864:function(e,t,c){"use strict";c.r(t);var n=c(25),a=c(627),i=c(1),r=c.n(i),d=c(628),s=c.n(d),l=c(630),o=c.n(l),j=c(626),u=c(20),O=c(624),m=(c(625),c(12)),h={placeholder:"Search here...",label:"Search:  "},b={label:"Rows:",values:[5,10,25,50,75,100]},x=[{key:"Company"},{key:"Species"},{key:"Product Name"},{key:"Package Size"}],p=[{key:"Company"},{key:"Species"},{key:"Product Name"},{key:"Package Size"},{key:"Unit",_style:{width:"50% !important"}},{key:"Quantity"},{key:"Price (Per Unit)"},{key:"Product Amount"},{key:"Discount(%)"},{key:"Free Unit Scheme"},{key:"Total Amount"}];t.default=function(e){var t=e.location.state.data.CUSTOMER_NAME,c=e.location.state.data.CUSTOMER_EMAIL,d=e.location.state.data.CUSTOMER_MOBILE,l=e.location.state.data.CUSTOMER_CATEGORY_NAME,g=e.location.state.data.CUSTOMER_TYPE_NAME,y=e.location.state.data.CUSTOMER_SUBTYPE_NAME,E=e.location.state.data.CUSTOMER_PKID,P=(e.location.state.data.CUSTOMER_FIRM_NAME,e.location.state.data.CUSTOMER_CAPACITY),I=e.location.state.data.EMPLOYEE_NAME,T=e.location.state.data.CUSTOMER_EMAIL2,v=e.location.state.data.CUSTOMER_ALT_MOBILE,_=o.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",o.a.stopTimer),e.addEventListener("mouseleave",o.a.resumeTimer)}}),C=Object(i.useState)([]),S=Object(a.a)(C,2),f=S[0],D=S[1],A=Object(i.useState)([]),U=Object(a.a)(A,2),M=U[0],R=U[1],N=Object(i.useState)(),k=Object(a.a)(N,2),B=k[0],L=k[1],K=Object(i.useState)(),F=Object(a.a)(K,2),H=F[0],w=F[1],Y=Object(i.useState)(),z=Object(a.a)(Y,2),q=(z[0],z[1],Object(i.useState)()),G=Object(a.a)(q,2),Q=(G[0],G[1],Object(i.useState)()),J=Object(a.a)(Q,2),V=(J[0],J[1],Object(i.useState)()),W=Object(a.a)(V,2),X=(W[0],W[1],Object(i.useState)()),Z=Object(a.a)(X,2),$=(Z[0],Z[1],Object(i.useState)([])),ee=Object(a.a)($,2),te=(ee[0],ee[1],Object(i.useState)([])),ce=Object(a.a)(te,2),ne=ce[0],ae=ce[1],ie=Object(i.useState)(),re=Object(a.a)(ie,2),de=(re[0],re[1],Object(i.useState)([])),se=Object(a.a)(de,2),le=(se[0],se[1]),oe=Object(i.useState)(!1),je=Object(a.a)(oe,2),ue=je[0],Oe=je[1],me=Object(i.useState)(!1),he=Object(a.a)(me,2),be=he[0],xe=he[1],pe=[],ge=function(e){var t=e.target.value.split("/");pe.push(t[0]),console.log(pe)},ye=function(e){var t=e.target.id.split("-"),c=document.getElementById("packagesel"+t[1]).value.split("/"),n=parseInt(c[2])*parseInt(e.target.value);""==e.target.value||null==e.target.value?document.getElementById("TotalQty"+t[1]).innerHTML="0":document.getElementById("TotalQty"+t[1]).innerHTML=n+" "+c[3]},Ee=function(e){var t=e.target.id.split("-"),c=document.getElementById("requiredqth-"+t[1]).value*e.target.value;document.getElementById("producttotalam1"+t[1]).innerHTML=c.toFixed(2),document.getElementById("producttotalam"+t[1]).innerHTML=c.toFixed(2)},Pe=function(e){if(""===e.target.value||null==e.target.value||"0"===e.target.value);else{var t=e.target.id.split("-"),c=document.getElementById("producttotalam1"+t[1]).innerHTML,n=c-e.target.value/100*c;document.getElementById("producttotalam"+t[1]).innerHTML=n.toFixed(2)}},Ie=function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:O.a+"OrderTypes",headers:{"content-type":"application/json"},params:{language_code:"en"}}).then((function(e){console.log(e.data);var t=e.data.map((function(e,t){return Object(m.jsx)("option",{value:e.ORDER_TYPE_PKID,children:e.ORDER_TYPE_NAME},t)}));ae(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))};r.a.useEffect((function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:O.a+"companies",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e,t){return Object(m.jsx)("option",{value:e.COMPANY_PKID,children:e.COMPANY_NAME},t)}));R(t),Ie(),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))}),[]);var Te=function(){return Object(m.jsx)(j.m,{items:f,fields:x,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:h,itemsPerPage:10,pagination:!0,size:"sm",itemsPerPageSelect:b,scopedSlots:{"Package Size":function(e){var t=e.packagesArr.map((function(t,c){return Object(m.jsx)("option",{value:e.PRODUCT_PKID+"/"+t.PRD_PACKAG_PKID+"/"+t.PRD_PACKAGE_UNIT,children:t.PRD_PACKAGE_UNIT+" "+t.UNIT_OF_MEASUREMENT_SHORT_KEY},c)}));return Object(m.jsx)("td",{children:Object(m.jsxs)(j.I,{custom:!0,name:"addtype",id:"packagesel"+e.PRODUCT_PKID,onChange:ge,children:[Object(m.jsx)("option",{value:"-1",children:"Select Package"}),t]})})}}})},ve=function(){return Object(m.jsx)(j.m,{items:f,fields:p,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:h,itemsPerPage:10,pagination:!0,size:"sm",itemsPerPageSelect:b,scopedSlots:{"Discount(%)":function(e){return Object(m.jsx)("td",{children:Object(m.jsx)(j.y,{type:"text",id:"Discount-"+e.PRODUCT_PKID,placeholder:"Discount",required:!0,onChange:Pe})})},"Free Unit Scheme":function(e){return Object(m.jsx)("td",{children:Object(m.jsx)(j.y,{type:"text",id:"FreeUnit-"+e.PRODUCT_PKID,placeholder:"Free Unit Scheme",required:!0})})},"Price (Per Unit)":function(e){return Object(m.jsx)("td",{children:Object(m.jsx)(j.y,{type:"text",id:"amount-"+e.PRODUCT_PKID,placeholder:"Amount",required:!0,onChange:Ee})})},"Product Amount":function(e){return Object(m.jsx)("td",{children:Object(m.jsx)("p",{id:"producttotalam1"+e.PRODUCT_PKID})})},"Total Amount":function(e){return Object(m.jsx)("td",{children:Object(m.jsx)("p",{id:"producttotalam"+e.PRODUCT_PKID})})},Quantity:function(e){return Object(m.jsx)("td",{children:Object(m.jsx)("p",{id:"TotalQty"+e.PRODUCT_PKID})})},Unit:function(e){return Object(m.jsx)("td",{className:"TDClass",style:{width:"20% !important"},children:Object(m.jsx)(j.H,{children:Object(m.jsx)(j.j,{md:"12",style:{paddingRight:"0%"},children:Object(m.jsx)(j.y,{type:"text",id:"requiredqth-"+e.PRODUCT_PKID,placeholder:"Required",required:!0,style:{width:"100%",float:"left"},onChange:ye})})})})},"Package Size":function(e){var t=e.packagesArr.map((function(t,c){return Object(m.jsx)("option",{value:e.PRODUCT_PKID+"/"+t.PRD_PACKAG_PKID+"/"+t.PRD_PACKAGE_UNIT+"/"+t.UNIT_OF_MEASUREMENT_SHORT_KEY,children:t.PRD_PACKAGE_UNIT+" "+t.UNIT_OF_MEASUREMENT_SHORT_KEY},c)}));return Object(m.jsx)("td",{children:Object(m.jsxs)(j.I,{custom:!0,name:"addtype",id:"packagesel"+e.PRODUCT_PKID,onChange:ge,children:[Object(m.jsx)("option",{value:"-1",children:"Select Package"}),t]})})}}})},_e=Object(u.g)();return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{id:"divLoading",children:" "}),Object(m.jsx)("h1",{id:"ccmaster",children:"Order Item"}),Object(m.jsxs)(j.H,{style:{marginTop:"3%"},children:[Object(m.jsx)(j.j,{md:"2"}),Object(m.jsx)(j.j,{md:"12",children:Object(m.jsx)(j.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.H,{children:Object(m.jsx)(j.j,{md:"1",children:Object(m.jsx)(j.d,{color:"danger",size:"sm",onClick:function(){return _e.goBack()},children:"Back"})})}),Object(m.jsx)("br",{}),Object(m.jsx)(j.H,{children:Object(m.jsx)(j.j,{children:Object(m.jsxs)(j.e,{children:[Object(m.jsx)(j.i,{children:"Customer Details Details"}),Object(m.jsxs)(j.f,{children:[Object(m.jsx)(j.H,{children:Object(m.jsx)(j.j,{md:"12",children:Object(m.jsx)("table",{id:"customerDetails",style:{width:"100%"},children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Customer Name :"})}),Object(m.jsx)("td",{children:t})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Email :"})}),Object(m.jsx)("td",{children:c})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Contact Number :"})}),Object(m.jsx)("td",{children:d})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Category :"})}),Object(m.jsx)("td",{children:l})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Type :"})}),Object(m.jsx)("td",{children:g})]})]}),Object(m.jsxs)("td",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Sub Type :"})}),Object(m.jsx)("td",{children:y})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Capacity :"})}),Object(m.jsx)("td",{children:P})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Superior :"})}),Object(m.jsx)("td",{children:I})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Alternate Email :"})}),Object(m.jsx)("td",{children:T})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:Object(m.jsx)("b",{children:"Alternate Number :"})}),Object(m.jsx)("td",{children:v})]})]})]})})})}),Object(m.jsx)("hr",{}),Object(m.jsxs)(j.H,{children:[Object(m.jsx)(j.j,{md:"6",children:Object(m.jsx)("h4",{className:"p1",children:"Select Products"})}),Object(m.jsx)(j.j,{md:"3",children:Object(m.jsxs)(j.I,{custom:!0,name:"addtype",id:"addtype",value:B,onChange:function(e){L(e.target.value)},children:[Object(m.jsx)("option",{value:"-1",children:"Select Company"}),M]})}),Object(m.jsx)(j.j,{md:"3",children:Object(m.jsxs)(j.I,{custom:!0,name:"addtype",id:"addtype",value:H,onChange:function(e){document.getElementById("divLoading").className="show",w(e.target.value),"-1"===B?(_.fire({icon:"warning",title:"Please Select Company!"}),D([]),Oe(!1),xe(!1),document.getElementById("divLoading").className="hide"):s()({method:"GET",url:O.a+"prodByCompany/"+B,headers:{"content-type":"application/json"}}).then((function(t){console.log(t.data);var c=t.data.map((function(e,t){return Object(n.a)(Object(n.a)({},e),{},{"Sl No":t+1,Company:e.COMPANY_NAME,Species:e.PRODUCT_SPECIES_NAME,"Product Name":e.PRODUCT_NAME})}));D(c),"3"===e.target.value||"4"===e.target.value||"5"===e.target.value?(Oe(!1),xe(!0)):(Oe(!0),xe(!1)),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))},children:[Object(m.jsx)("option",{value:"-1",children:"Order Type"}),ne]})})]}),Object(m.jsx)("br",{}),ue&&Object(m.jsx)(ve,{}),be&&Object(m.jsx)(Te,{})]})]})})}),Object(m.jsx)(j.H,{children:Object(m.jsx)(j.j,{md:"12",children:Object(m.jsx)(j.d,{color:"primary",size:"sm",style:{float:"right"},onClick:function(){document.getElementById("divLoading").className="show";var e=[],t=0;pe.map((function(c){var n=document.getElementById("packagesel"+c).value.split("/");if("3"===H||"4"===H||"5"===H){var a={ProductID:c,PackageID:n[1],Quantity:"",PackageAmt:"",Discount:"",FreeUnitScheme:"",FinalAmount:"",ProductAmount:""};e.push(a)}else{var i=document.getElementById("FreeUnit-"+c).value;t=""===i||null==i?parseInt(t)+parseInt(0):parseInt(t)+parseInt(i);a={ProductID:c,PackageID:n[1],Unit:document.getElementById("requiredqth-"+c).value,Quantity:document.getElementById("TotalQty"+c).innerHTML,PackageAmt:document.getElementById("amount-"+c).value,Discount:document.getElementById("Discount-"+c).value,FreeUnitScheme:document.getElementById("FreeUnit-"+c).value,FinalAmount:document.getElementById("producttotalam"+c).innerHTML,ProductAmount:document.getElementById("producttotalam1"+c).innerHTML};e.push(a)}})),le(e),0===e.length?(_.fire({icon:"warning",title:"Please select atleast one product!"}),document.getElementById("divLoading").className="hide"):(document.getElementById("divLoading").className="hide",_e.push({pathname:"/FinalOrderConfirm",state:{arr:e,CustomerID:E,CompanyID:B,OrderTypeID:H,freeunit:t}}))},children:"Next"})})})]})})}),Object(m.jsx)(j.j,{md:"2"})]})]})}}}]);
//# sourceMappingURL=132.8f1d744f.chunk.js.map