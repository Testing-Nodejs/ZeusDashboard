(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[154],{837:function(e,t,n){"use strict";n.r(t);var c=n(25),a=n(627),i=n(1),s=n.n(i),o=n(628),l=n.n(o),d=n(626),r=n(624),j=n(630),u=n.n(j),m=n(632),h=n.n(m),O=n(633),b=n.n(O),T=(n(625),n(711),n(12)),E={placeholder:"Search here...",label:"Search:  "},g={label:"Rows:",values:[5,10,25,50,75,100]},x=[{key:"Action"},{key:"Company"},{key:"Employee"},{key:"Amount"},{key:"Year"},{key:"Type"},{key:"Month"},{key:"Employee Type"},{key:"Employee Sub Type"}];t.default=function(){var e=Object(i.useState)(),t=Object(a.a)(e,2),n=t[0],o=t[1],j=Object(i.useState)([]),m=Object(a.a)(j,2),O=m[0],y=m[1],p=Object(i.useState)([]),f=Object(a.a)(p,2),A=f[0],v=f[1],_=Object(i.useState)([]),P=Object(a.a)(_,2),S=P[0],N=P[1],M=Object(i.useState)("-1"),R=Object(a.a)(M,2),I=R[0],B=R[1],w=Object(i.useState)("-1"),C=Object(a.a)(w,2),G=C[0],Y=C[1],L=Object(i.useState)(),k=Object(a.a)(L,2),K=k[0],z=k[1],D=Object(i.useState)(0),F=Object(a.a)(D,2),H=F[0],U=F[1],$=Object(i.useState)(),J=Object(a.a)($,2),q=J[0],Q=J[1],V=Object(i.useState)(!0),W=Object(a.a)(V,2),X=W[0],Z=W[1],ee=Object(i.useState)(!1),te=Object(a.a)(ee,2),ne=te[0],ce=te[1],ae=Object(i.useState)(!1),ie=Object(a.a)(ae,2),se=ie[0],oe=ie[1],le=Object(i.useState)(""),de=Object(a.a)(le,2),re=de[0],je=de[1],ue=u.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",u.a.stopTimer),e.addEventListener("mouseleave",u.a.resumeTimer)}}),me=function(){if("-1"===I)ue.fire({icon:"warning",title:"Please Select Company!"});else if("-1"===G)ue.fire({icon:"warning",title:"Please Select Employee!"});else if(""===q||null==q)ue.fire({icon:"warning",title:"Please Enter Target Amount!"});else if(""===K||null==K)ue.fire({icon:"warning",title:"Please Enter Year!"});else{document.getElementById("divLoading").className="show";var e={TARGET_COMP_FKID:I,TARGET_EMP_FKID:G,TARGET_AMOUNT:q,TARGET_YEAR:K,TARGET_MONTH_START:H,TARGET_TYPE:re};l.a.post(r.a+"targets",e).then((function(e){"0"===e.data?(u.a.fire({title:"Target Already Assigned!",icon:"info",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide"):!0===e.data?(u.a.fire({title:"Target Assigned Successfully!",icon:"success",confirmButtonText:"OK"}),he(),document.getElementById("divLoading").className="hide"):!1===e.data&&(u.a.fire({title:"Failed To Assign Target!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},he=function(){Te(),B("-1"),Y("-1"),Q(""),z(""),U(""),Z(!0),ce(!1),document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!1},Oe=function(){if("-1"===I)ue.fire({icon:"warning",title:"Please Select Company!"});else if("-1"===G)ue.fire({icon:"warning",title:"Please Select Employee!"});else if(""===q||null==q)ue.fire({icon:"warning",title:"Please Enter Target Amount!"});else if(""===K||null==K)ue.fire({icon:"warning",title:"Please Enter Year!"});else{document.getElementById("divLoading").className="show";var e={TARGET_COMP_FKID:I,TARGET_EMP_FKID:G,TARGET_AMOUNT:q,TARGET_YEAR:K,TARGET_MONTH_START:H,TARGET_TYPE:re};l.a.put(r.a+"targets/"+n,e).then((function(e){!0===e.data?(u.a.fire({title:"Target Assigned Successfully!",icon:"success",confirmButtonText:"OK"}),he(),document.getElementById("divLoading").className="hide"):!1===e.data&&(u.a.fire({title:"Failed To Assign Target!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},be=function(){document.getElementById("divLoading").className="show",l()({method:"GET",url:r.a+"companies",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return Object(T.jsx)("option",{value:e.COMPANY_PKID,children:e.COMPANY_NAME})}));y(t),document.getElementById("divLoading").className="show",l()({method:"GET",url:r.a+"emps",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return Object(T.jsx)("option",{value:e.EMPLOYEE_PKID,children:e.EMPLOYEE_NAME})}));v(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))},Te=function(){document.getElementById("divLoading").className="show",l()({method:"GET",url:r.a+"targets",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{Company:e.COMPANY_NAME,Employee:e.EMPLOYEE_NAME,Amount:e.TARGET_AMOUNT,Year:e.TARGET_YEAR,"Employee Type":e.EMPLOYEE_TYPE_NAME,"Employee Sub Type":e.EMPLOYEE_SUB_TYPE_NAME,Type:e.TARGET_TYPE,Month:e.TARGET_MONTH_START})}));N(t),be(),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))};s.a.useEffect((function(){Te()}),[]);var Ee=function(){return Object(T.jsx)(d.d,{type:"button",onClick:Oe,size:"md",id:"Add-btn",children:"Update"})},ge=function(){return Object(T.jsx)(d.d,{type:"button",onClick:me,size:"md",id:"Add-btn",children:"Add"})},xe=function(e){"monthly"===e.target.value?(oe(!0),je("Monthly")):(oe(!1),je("Regular"),U("0"))},ye=function(){return Object(T.jsx)(s.a.Fragment,{children:Object(T.jsx)(d.u,{row:!0,children:Object(T.jsxs)(d.j,{xs:"12",md:"12",children:[Object(T.jsx)(d.z,{children:"Month"}),Object(T.jsx)(d.y,{id:"text-input",name:"text-input",placeholder:"Month Number",value:H,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&U(e.target.value)}})]})})})};return Object(T.jsxs)("div",{id:"state",children:[Object(T.jsx)("div",{id:"divLoading",children:" "}),Object(T.jsx)("h1",{id:"ccmaster",children:"Target Master"}),Object(T.jsxs)(d.H,{style:{marginTop:"3%"},children:[Object(T.jsx)(d.j,{sm:"12",md:"12",lg:"4",xl:"4",className:"mb-3 mb-xl-0",children:Object(T.jsx)(d.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(T.jsx)(d.f,{children:Object(T.jsx)(d.H,{children:Object(T.jsx)(d.j,{children:Object(T.jsxs)(d.e,{children:[Object(T.jsx)(d.i,{children:"Add Employee Target"}),Object(T.jsxs)(d.f,{children:[Object(T.jsxs)(d.t,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(T.jsx)(d.u,{row:!0,children:Object(T.jsxs)(d.j,{xs:"12",md:"12",children:[Object(T.jsx)(d.z,{children:"Select Company"}),Object(T.jsxs)(d.I,{custom:!0,name:"Country",id:"Country",onChange:function(e){B(e.target.value)},value:I,children:[Object(T.jsx)("option",{value:"-1",children:"Select Company"}),O]})]})}),Object(T.jsx)(d.u,{row:!0,children:Object(T.jsxs)(d.j,{xs:"12",md:"12",children:[Object(T.jsx)(d.z,{children:"Select Employee"}),Object(T.jsxs)(d.I,{custom:!0,name:"Country",id:"Country",onChange:function(e){Y(e.target.value)},value:G,children:[Object(T.jsx)("option",{value:"-1",children:"Select Employee"}),A]})]})}),Object(T.jsx)(d.u,{row:!0,children:Object(T.jsxs)(d.j,{xs:"12",md:"12",children:[Object(T.jsx)(d.z,{children:"Target Amount"}),Object(T.jsx)(d.y,{id:"text-input",name:"text-input",placeholder:"Amount",value:q,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&Q(e.target.value)}})]})}),Object(T.jsx)(d.u,{row:!0,children:Object(T.jsxs)(d.j,{xs:"12",md:"12",children:[Object(T.jsx)(d.z,{children:"Year"}),Object(T.jsx)(d.y,{id:"text-input",name:"text-input",placeholder:"YYYY",value:K,onChange:function(e){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&z(e.target.value)}})]})}),Object(T.jsx)(d.u,{row:!0,children:Object(T.jsx)(d.j,{xs:"12",md:"12",style:{marginTop:"5%",paddingBottom:"3%"},children:Object(T.jsxs)(d.H,{children:[Object(T.jsx)(d.j,{md:"6",children:Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{type:"radio",name:"radio",id:"yearly",onChange:xe,value:"yearly"}),Object(T.jsx)("span",{children:"Regular"})]})}),Object(T.jsx)(d.j,{md:"6",children:Object(T.jsxs)("label",{children:[Object(T.jsx)("input",{type:"radio",name:"radio",id:"monthly",onChange:xe,value:"monthly"}),Object(T.jsx)("span",{children:"Other"})]})})]})})}),se&&Object(T.jsx)(ye,{})]}),X&&Object(T.jsx)(ge,{}),ne&&Object(T.jsx)(Ee,{})]})]})})})})})}),Object(T.jsx)(d.j,{col:"10",children:Object(T.jsx)(d.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(T.jsx)(d.f,{children:Object(T.jsx)(d.H,{children:Object(T.jsx)(d.j,{children:Object(T.jsxs)(d.e,{children:[Object(T.jsx)(d.i,{children:"Added Targets"}),Object(T.jsx)(d.f,{children:Object(T.jsx)(d.m,{items:S,fields:x,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:E,size:"sm",itemsPerPageSelect:g,itemsPerPage:10,pagination:!0,scopedSlots:{Action:function(e){return Object(T.jsxs)("td",{children:[Object(T.jsxs)(d.d,{size:"sm",onClick:function(){!function(e,t,n,c,a,i,s){"Monthly"===a?(document.getElementById("monthly").checked=!0,document.getElementById("yearly").checked=!1,oe(!0)):(document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!0,oe(!1)),o(e),B(t),Y(n),Q(c),z(s),je(a),U(i),Z(!1),ce(!0)}(e.TARGET_PKID,e.TARGET_COMP_FKID,e.TARGET_EMP_FKID,e.TARGET_AMOUNT,e.TARGET_TYPE,e.TARGET_MONTH_START,e.TARGET_YEAR)},id:"war-btn",children:[Object(T.jsx)(h.a,{}),e.status]}),Object(T.jsxs)(d.d,{size:"sm",onClick:function(){var t;t=e.TARGET_PKID,confirm("Are you sure you want to delete")&&(document.getElementById("divLoading").className="show",l()({method:"DELETE",url:r.a+"targets/"+t,headers:{"content-type":"application/json"}}).then((function(e){!0===e.data?(u.a.fire({title:"Selected Target Deleted!",icon:"success",confirmButtonText:"OK"}),Te(),document.getElementById("divLoading").className="hide"):(u.a.fire({title:"Failed To Delete Target!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")})).catch((function(e){console.log(e)})))},id:"war-btn1",children:[Object(T.jsx)(b.a,{}),e.status]})]})}}})})]})})})})})})]})]})}}}]);
//# sourceMappingURL=154.c392860d.chunk.js.map