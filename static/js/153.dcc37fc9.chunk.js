(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[153],{839:function(e,t,n){"use strict";n.r(t);var c=n(25),i=n(627),E=n(1),d=n.n(E),I=n(628),o=n.n(I),a=n(630),N=n.n(a),l=n(626),s=n(624),r=n(632),T=n.n(r),O=n(633),m=n.n(O),j=(n(625),n(711),n(12)),u={placeholder:"Search here...",label:"Search:  "},h={label:"Rows:",values:[5,10,25,50,75,100]},C=[{key:"Action"},{key:"Month / Year"},{key:"Amount"},{key:"Description"}];t.default=function(e){var t=e.location.state.data.EMPLOYEE_PKID,n=Object(E.useState)({INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:"",INCENTIVE_DESCRIPTION:"",INCENTIVE_MONTH:"",INCENTIVE_PKID:"",INCENTIVE_TYPE:"",ResponseData:[],AddButton:!0,UpdateButton:!1,Monthselection:!1,YearSelection:!1}),I=Object(i.a)(n,2),a=I[0],r=I[1],O=N.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",N.a.stopTimer),e.addEventListener("mouseleave",N.a.resumeTimer)}}),_=function(e){var t=e.target.value;console.log(t),r("monthly"===t?Object(c.a)(Object(c.a)({},a),{},{Monthselection:!0,YearSelection:!1,INCENTIVE_TYPE:t}):Object(c.a)(Object(c.a)({},a),{},{Monthselection:!1,YearSelection:!0,INCENTIVE_TYPE:t}))},b=function(){if(""===a.INCENTIVE_MONTH||null===a.INCENTIVE_MONTH)O.fire({icon:"warning",title:"Select Month OR Year!"});else if(""===a.INCENTIVE_AMOUNT||null===a.INCENTIVE_AMOUNT)O.fire({icon:"warning",title:"Add Amount!"});else if(""===a.INCENTIVE_DESCRIPTION||null===a.INCENTIVE_DESCRIPTION)O.fire({icon:"warning",title:"Add Description!"});else{document.getElementById("divLoading").className="show";var e="";e="monthly"===a.INCENTIVE_TYPE?a.INCENTIVE_MONTH+"-01":a.INCENTIVE_MONTH;var n={INCENTIVE_EMPLOYEE_FKID:a.INCENTIVE_EMPLOYEE_FKID,INCENTIVE_AMOUNT:a.INCENTIVE_AMOUNT,INCENTIVE_DESCRIPTION:a.INCENTIVE_DESCRIPTION,INCENTIVE_MONTH:e,INCENTIVE_TYPE:a.INCENTIVE_TYPE};o.a.post(s.a+"incentives",n).then((function(e){"0"===e.data?(N.a.fire({title:"Already Exist!",icon:"info",confirmButtonText:"OK"}),V(),r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:"",INCENTIVE_DESCRIPTION:"",INCENTIVE_MONTH:"",INCENTIVE_PKID:"",INCENTIVE_TYPE:"",AddButton:!0,UpdateButton:!1,Monthselection:!1,YearSelection:!1})),document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!1,document.getElementById("divLoading").className="hide"):!0===e.data?(N.a.fire({title:"Added Successfully!",icon:"success",confirmButtonText:"OK"}),V(),r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:"",INCENTIVE_DESCRIPTION:"",INCENTIVE_MONTH:"",INCENTIVE_PKID:"",INCENTIVE_TYPE:"",AddButton:!0,UpdateButton:!1,Monthselection:!1,YearSelection:!1})),document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!1,document.getElementById("divLoading").className="hide"):!1===e.data&&(N.a.fire({title:"Failed To Add!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},x=function(){if(""===a.INCENTIVE_MONTH||null===a.INCENTIVE_MONTH)O.fire({icon:"warning",title:"Select Month OR Year!"});else if(""===a.INCENTIVE_AMOUNT||null===a.INCENTIVE_AMOUNT)O.fire({icon:"warning",title:"Add Amount!"});else if(""===a.INCENTIVE_DESCRIPTION||null===a.INCENTIVE_DESCRIPTION)O.fire({icon:"warning",title:"Add Description!"});else{document.getElementById("divLoading").className="show";var e="";e="monthly"===a.INCENTIVE_TYPE?a.INCENTIVE_MONTH+"-01":a.INCENTIVE_MONTH;var n={INCENTIVE_EMPLOYEE_FKID:a.INCENTIVE_EMPLOYEE_FKID,INCENTIVE_AMOUNT:a.INCENTIVE_AMOUNT,INCENTIVE_DESCRIPTION:a.INCENTIVE_DESCRIPTION,INCENTIVE_MONTH:e,INCENTIVE_TYPE:a.INCENTIVE_TYPE};o.a.put(s.a+"incentives/"+a.INCENTIVE_PKID,n).then((function(e){"0"===e.data?(N.a.fire({title:"Already Exist!",icon:"info",confirmButtonText:"OK"}),V(),r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:"",INCENTIVE_DESCRIPTION:"",INCENTIVE_MONTH:"",INCENTIVE_PKID:"",INCENTIVE_TYPE:"",AddButton:!0,UpdateButton:!1,Monthselection:!1,YearSelection:!1})),document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!1,document.getElementById("divLoading").className="hide"):!0===e.data?(N.a.fire({title:"Update Successfully!",icon:"success",confirmButtonText:"OK"}),V(),r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:"",INCENTIVE_DESCRIPTION:"",INCENTIVE_MONTH:"",INCENTIVE_PKID:"",INCENTIVE_TYPE:"",AddButton:!0,UpdateButton:!1,Monthselection:!1,YearSelection:!1})),document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!1,document.getElementById("divLoading").className="hide"):!1===e.data&&(N.a.fire({title:"Failed To Update!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},V=d.a.useCallback((function(){document.getElementById("divLoading").className="show",o()({method:"GET",url:s.a+"incentives",headers:{"content-type":"application/json"},params:{language_code:"en"}}).then((function(e){var t=e.data.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{"Month / Year":e.Month,Amount:e.INCENTIVE_AMOUNT,Description:e.INCENTIVE_DESCRIPTION})}));r(Object(c.a)(Object(c.a)({},a),{},{ResponseData:t})),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))}),[]),y=function(){return Object(j.jsx)(l.d,{type:"button",onClick:x,size:"md",id:"Add-btn",children:"Update"})},p=function(){return Object(j.jsx)(l.d,{type:"button",onClick:b,size:"md",id:"Add-btn",children:"Add"})},g=function(){return Object(j.jsxs)(d.a.Fragment,{children:[Object(j.jsx)(l.z,{children:"Month"}),Object(j.jsx)(l.y,{id:"text-input1",type:"month",name:"text-input",placeholder:"Employee Month",value:a.INCENTIVE_MONTH,onChange:function(e){r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_MONTH:e.target.value}))}})]})},f=function(){return Object(j.jsxs)(d.a.Fragment,{children:[Object(j.jsx)(l.z,{children:"Year"}),Object(j.jsx)(l.y,{id:"text-input1",type:"text",name:"text-input",placeholder:"YYYY",value:a.INCENTIVE_MONTH,onChange:function(e){r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_MONTH:e.target.value}))}})]})};return d.a.useEffect((function(){V()}),[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{id:"divLoading",children:" "}),Object(j.jsx)("h1",{id:"ccmaster",children:"Employee Incentive"}),Object(j.jsxs)(l.H,{style:{marginTop:"3%"},children:[Object(j.jsx)(l.j,{xs:"12",sm:"12",md:"4",lg:"4",xl:"4",className:"mb-3 mb-xl-0",children:Object(j.jsx)("div",{id:"country-master",children:Object(j.jsx)(l.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(j.jsx)(l.f,{children:Object(j.jsx)(l.H,{children:Object(j.jsx)(l.j,{children:Object(j.jsxs)(l.e,{children:[Object(j.jsx)(l.i,{children:"Add Employee Incentive"}),Object(j.jsx)(l.f,{children:Object(j.jsxs)(l.t,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal",children:[Object(j.jsxs)(l.u,{row:!0,children:[Object(j.jsx)(l.j,{xs:"12",md:"12",children:Object(j.jsxs)(l.H,{children:[Object(j.jsx)(l.j,{md:"6",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"radio",name:"radio",id:"monthly",onChange:_,value:"monthly"}),Object(j.jsx)("span",{children:"Monthly"})]})}),Object(j.jsx)(l.j,{md:"6",children:Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{type:"radio",name:"radio",id:"yearly",onChange:_,value:"yearly"}),Object(j.jsx)("span",{children:"Yearly"})]})})]})}),Object(j.jsxs)(l.j,{xs:"12",md:"12",children:[a.Monthselection&&Object(j.jsx)(g,{}),a.YearSelection&&Object(j.jsx)(f,{})]}),Object(j.jsxs)(l.j,{xs:"12",md:"12",children:[Object(j.jsx)(l.z,{children:"Amount"}),Object(j.jsx)(l.y,{id:"text-input1",type:"text",name:"text-input",placeholder:"Incentive Amount",value:a.INCENTIVE_AMOUNT,onChange:function(e){r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_AMOUNT:e.target.value}))}})]}),Object(j.jsxs)(l.j,{xs:"12",md:"12",children:[Object(j.jsx)(l.z,{children:"Description"}),Object(j.jsx)(l.y,{id:"text-input1",type:"text",name:"text-input",placeholder:"Description",value:a.INCENTIVE_DESCRIPTION,onChange:function(e){r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_DESCRIPTION:e.target.value}))}})]})]}),a.UpdateButton&&Object(j.jsx)(y,{}),a.AddButton&&Object(j.jsx)(p,{})]})})]})})})})})})}),Object(j.jsx)(l.j,{xs:"12",sm:"12",md:"8",lg:"8",xl:"8",className:"mb-3 mb-xl-0",children:Object(j.jsx)("div",{id:"country-table",children:Object(j.jsx)(l.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(j.jsx)(l.f,{children:Object(j.jsx)(l.H,{children:Object(j.jsx)(l.j,{children:Object(j.jsxs)(l.e,{children:[Object(j.jsx)(l.i,{children:"Added Employee Incentive"}),Object(j.jsx)(l.f,{children:Object(j.jsx)(l.m,{items:a.ResponseData,fields:C,hover:!0,striped:!0,bordered:!0,tableFilter:u,itemsPerPageSelect:h,sorter:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{Action:function(e){return Object(j.jsxs)("td",{children:[Object(j.jsxs)(l.d,{onClick:function(){!function(e,t,n,i,E,d){if(document.getElementById("divLoading").className="show","monthly"===d){document.getElementById("monthly").checked=!0,document.getElementById("yearly").checked=!1;var I=E.split("-");r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:n,INCENTIVE_DESCRIPTION:i,INCENTIVE_MONTH:I[0]+"-"+I[1],INCENTIVE_PKID:e,INCENTIVE_TYPE:d,AddButton:!1,UpdateButton:!0,Monthselection:!0,YearSelection:!1})),document.getElementById("divLoading").className="hide"}else document.getElementById("monthly").checked=!1,document.getElementById("yearly").checked=!0,r(Object(c.a)(Object(c.a)({},a),{},{INCENTIVE_EMPLOYEE_FKID:t,INCENTIVE_AMOUNT:n,INCENTIVE_DESCRIPTION:i,INCENTIVE_MONTH:E,INCENTIVE_PKID:e,INCENTIVE_TYPE:d,AddButton:!1,UpdateButton:!0,Monthselection:!1,YearSelection:!0})),document.getElementById("divLoading").className="hide"}(e.INCENTIVE_PKID,e.INCENTIVE_EMPLOYEE_FKID,e.INCENTIVE_AMOUNT,e.INCENTIVE_DESCRIPTION,e.INCENTIVE_MONTH,e.INCENTIVE_TYPE)},size:"sm",id:"war-btn",children:[Object(j.jsx)(T.a,{}),e.status]}),Object(j.jsxs)(l.d,{size:"sm",onClick:function(){var t;t=e.INCENTIVE_PKID,confirm("Are you sure you want to delete")&&(document.getElementById("divLoading").className="show",o.a.put(s.a+"deleteincentives/"+t).then((function(e){!0===e.data?(N.a.fire({title:"Deleted!",icon:"success",confirmButtonText:"OK"}),V(),document.getElementById("divLoading").className="hide"):(N.a.fire({title:"Failed To Deleted!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")})).catch((function(e){console.log(e)})))},id:"war-btn1",children:[Object(j.jsx)(m.a,{}),e.status]})]})}}})})]})})})})})})})]})]})}}}]);
//# sourceMappingURL=153.dcc37fc9.chunk.js.map