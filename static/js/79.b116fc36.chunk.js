(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[79],{624:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var c="https://zeusservices.onrender.com/api/",s="https://zeusservices.onrender.com/"},625:function(e,t,n){},629:function(e,t,n){"use strict";function c(e){var t=e.date,n=new Date(new Date(t).toISOString().split("T")[0]);return"".concat(n.getDate().toString().padStart(2,"0"),"-").concat((n.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.getFullYear())}n.d(t,"a",(function(){return c}))},840:function(e,t,n){"use strict";n.r(t);var c=n(25),s=n(627),i=n(1),o=n.n(i),r=n(628),a=n.n(r),E=n(630),d=n.n(E),l=n(626),u=n(624),m=n(20),j=n(629),O=(n(625),n(12)),h={placeholder:"Search here...",label:"Search:  "},p={label:"Rows:",values:[5,10,25,50,75,100]},x=[{key:"Action"},{key:"Date"},{key:"Company"},{key:"Name"},{key:"Contact Number"},{key:"Place Of Work"},{key:"Travel From"},{key:"Travel To"},{key:"Distance"},{key:"Mode"},{key:"Fare"},{key:"Daily Allowance"},{key:"Others"},{key:"Total Amount"},{key:"Remarks"},{key:"Documents"}];t.default=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],E=Object(i.useState)(),b=Object(s.a)(E,2),f=b[0],y=b[1],S=Object(i.useState)(!1),P=Object(s.a)(S,2),_=P[0],L=P[1],g=(d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",d.a.stopTimer),e.addEventListener("mouseleave",d.a.resumeTimer)}}),function(){document.getElementById("divLoading").className="show",a()({method:"GET",url:u.a+"pendingEmpExpenses",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{Company:e.COMPANY_NAME,Name:e.EMPLOYEE_NAME,"Contact Number":e.EMPLOYEE_CONTACT,"Travel From":e.EMPLOYEE_EXPENSES_TRAVEL_FROM,"Travel To":e.EMPLOYEE_EXPENSES_TRAVEL_TO,Distance:e.EMPLOYEE_EXPENSES_DISTANCE,Mode:e.EMPLOYEE_EXPENSES_MODE,"Daily Allowance":e.EMPLOYEE_EXPENSES_DAILY_ALLOWANCE,"Total Amount":e.EMPLOYEE_EXPENSES_TOTAL,"Place Of Work":e.EMPLOYEE_EXPENSES_PLACE_OF_WORK,Fare:e.EMPLOYEE_EXPENSES_FARE,Others:e.EMPLOYEE_EXPENSES_OTHERS})}));r(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))});o.a.useEffect((function(){g()}),[]);var k=Object(m.g)();return Object(O.jsxs)("div",{id:"city",children:[Object(O.jsx)("div",{id:"divLoading",children:" "}),Object(O.jsx)("h1",{id:"ccmaster",children:"Employee Expenses"}),Object(O.jsx)(l.H,{style:{marginTop:"3%"},children:Object(O.jsx)(l.j,{col:"12",children:Object(O.jsx)(l.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(O.jsx)(l.f,{children:Object(O.jsx)(l.H,{children:Object(O.jsx)(l.j,{children:Object(O.jsxs)(l.e,{children:[Object(O.jsx)(l.i,{children:"Expenses Request"}),Object(O.jsx)(l.f,{children:Object(O.jsx)(l.m,{items:n,fields:x,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:h,itemsPerPageSelect:p,columnFilterSlot:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{Date:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(j.a,{date:e.EMPLOYEE_EXPENSES_DATE})})},Remarks:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(l.d,{color:"primary",size:"sm",id:"AddEmp",onClick:function(){var t;t=e.EMPLOYEE_EXPENSES_REMARKS,y(t),L(!_)},children:"View"})})},Documents:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(l.d,{color:"primary",size:"sm",onClick:function(){k.push("/ExpensesDocuments",{data:e})},children:"View"})})},Action:function(e){return Object(O.jsxs)("td",{children:[Object(O.jsxs)(l.d,{onClick:function(){var t;t=e.EMPLOYEE_EXPENSES_PKID,document.getElementById("divLoading").className="show",a.a.put(u.a+"AcceptEmpExpenses/"+t).then((function(e){!0===e.data?(d.a.fire({title:"Employee Expenses Accepted!",icon:"success",confirmButtonText:"OK"}),g(),document.getElementById("divLoading").className="hide"):(d.a.fire({title:"Failed To Confirm Employee Expenses!",icon:"error",confirmButtonText:"OK"}),g(),document.getElementById("divLoading").className="hide")}))},color:"primary",size:"sm",children:["Accept",e.status]}),"\xa0\xa0\xa0",Object(O.jsxs)(l.d,{onClick:function(){var t;t=e.EMPLOYEE_EXPENSES_PKID,confirm("Are you sure you want to Deny the request")&&(document.getElementById("divLoading").className="show",a.a.put(u.a+"RejectEmpExpenses/"+t).then((function(e){!0===e.data?(d.a.fire({title:"Employee Expenses Denied!",icon:"success",confirmButtonText:"OK"}),g(),document.getElementById("divLoading").className="hide"):(d.a.fire({title:"Failed To Deny Employee Expenses!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")})))},color:"danger",size:"sm",children:["Deny",e.status]})]})}}})})]})})})})})})}),Object(O.jsxs)(l.B,{show:_,onClose:function(){return L(!_)},color:"dark",children:[Object(O.jsx)(l.E,{closeButton:!0,children:Object(O.jsx)(l.F,{children:"Expenses Remark"})}),Object(O.jsx)(l.C,{children:Object(O.jsx)(l.H,{children:Object(O.jsx)(l.j,{md:"12",children:f})})}),Object(O.jsx)(l.D,{children:Object(O.jsx)(l.d,{color:"secondary",onClick:function(){return L(!_)},children:"Close"})})]})]})}}}]);
//# sourceMappingURL=79.b116fc36.chunk.js.map