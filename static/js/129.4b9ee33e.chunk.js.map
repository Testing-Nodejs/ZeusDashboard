{"version":3,"sources":["services/service.js","views/OrderManagement/OrderItems.js"],"names":["MyApiUrl","ViewImg","table","placeholder","label","items","values","fields3","key","fields","fields2","OrderItems","props","OrderNumber","location","state","data","ORDER_NUMBER","Company","COMPANY_NAME","Customer","CUSTOMER_NAME","Logistic","ORDER_LOGISTIC","SupplyType","SUPPLY_NAME","Amount","ORDER_ORDER_AMOUNT","Orderpkid","ORDER_PKID","OrderTypeID","ORDER_ORDER_TYPE_FKID","useState","ResponseData","setResponseData","BatchNumbers","setBatchNumbers","block","setblock","ViewBatchNumbers","itemID","ProductID","document","getElementById","className","axios","method","url","headers","then","response","map","item","index","Batch","PRODUCT_BATCH","PRODUCT_BATCH_NUMBER","PRODUCT_BATCH_QUANTITY","catch","error","console","log","React","useEffect","ORDER_ITEM_ACTUAL_AMOUNT","PRODUCT_NAME","Package","PRD_PACKAGE_UNIT","UNIT_OF_MEASUREMENT_SHORT_KEY","Unit","ORDER_ITEM_UNIT_QTY","Quantity","ORDER_ITEM_QTY","MRP","PRD_PACKAGE_MRP","ORDER_ITEM_CUSTOMER_PRICE","ORDER_ITEM_TOTAL_AMOUNT","Discount","ORDER_ITEM_DISCOUNT","ORDER_ITEM_FREE_UNIT_SCHEME","history","useHistory","id","md","style","boxShadow","color","size","onClick","goBack","hover","striped","bordered","sorter","tableFilter","itemsPerPage","pagination","itemsPerPageSelect","scopedSlots","i","ORDER_ITEM_PKID","ORDER_ITEM_PRODUCT_FKID","show","onClose","closeButton"],"mappings":"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","file":"static/js/129.4b9ee33e.chunk.js","sourcesContent":["// Nodejs Api's\r\n// Local\r\n//  const MyApiUrl = 'http://192.168.1.7:7765/api/';\r\n\r\n//  const ViewImg = 'http://192.168.1.7:7765/';\r\n\r\n// Live\r\n // const MyApiUrl = 'https://ssieducation.in:7765/api/';\r\n\r\n  //const ViewImg = 'https://ssieducation.in:7765/'; \r\n\r\n  const MyApiUrl = 'https://zeusservices.onrender.com/api/';\r\n\r\n  const ViewImg = 'https://zeusservices.onrender.com/'; \r\n\r\nexport {\r\n    MyApiUrl,\r\n    ViewImg,\r\n}\r\n","/**\r\n * @author KIMOSABE\r\n * @email Kimosabe@mail.com\r\n * @create date 2021-11-25 17:00:15\r\n * @modify date 2021-12-06 15:32:46\r\n * @desc [description]\r\n */\r\n\r\nimport React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow,\r\n  CDataTable,\r\n  CButton,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModal,\r\n} from \"@coreui/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MyApiUrl } from \"src/services/service\";\r\nimport \"../../style.css\";\r\nconst table = { placeholder: \"Search here...\", label: \"Search:  \" };\r\nconst items = { label: \"Rows:\", values: [5, 10, 25, 50, 75, 100] };\r\nconst fields3 = [\r\n  { key: \"Sl No\" },\r\n  { key: \"Product Name\" },\r\n  { key: \"Unit\" },\r\n  { key: \"Batch No\" },\r\n];\r\nconst fields = [\r\n  { key: \"Sl No\" },\r\n  { key: \"Product Name\" },\r\n  { key: \"Package\" },\r\n  { key: \"Unit\" },\r\n  { key: \"Quantity\" },\r\n  { key: \"MRP\" },\r\n  { key: \"Customer Price\" },\r\n  { key: \"Total Amount\" },\r\n  { key: \"Discount\" },\r\n  { key: \"Free Unit/Scheme\" },\r\n  { key: \"Grand Total\" },\r\n  { key: \"Batch No\" },\r\n];\r\n\r\nconst fields2 = [{ key: \"Sl No\" }, { key: \"Batch\" }, { key: \"Batch Number\" }, { key: \"Batch Quantity\" }];\r\n\r\nconst OrderItems = (props) => {\r\n  const OrderNumber = props.location.state.data.ORDER_NUMBER;\r\n  const Company = props.location.state.data.COMPANY_NAME;\r\n  const Customer = props.location.state.data.CUSTOMER_NAME;\r\n  const Logistic = props.location.state.data.ORDER_LOGISTIC;\r\n  const SupplyType = props.location.state.data.SUPPLY_NAME;\r\n  const Amount = props.location.state.data.ORDER_ORDER_AMOUNT;\r\n  const Orderpkid = props.location.state.data.ORDER_PKID;\r\n  const OrderTypeID = props.location.state.data.ORDER_ORDER_TYPE_FKID;\r\n\r\n\r\n  const [ResponseData, setResponseData] = useState([]);\r\n  const [BatchNumbers, setBatchNumbers] = useState([]);\r\n  const [block, setblock] = useState(false);\r\n\r\n  const GetAllOrderItems = () => {\r\n    document.getElementById(\"divLoading\").className = \"show\";\r\n    axios({\r\n      method: \"GET\",\r\n      url: MyApiUrl + \"GetOrderItemOrderID/\" + Orderpkid,\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response.data)\r\n        const items = response.data.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            \"Grand Total\": item.ORDER_ITEM_ACTUAL_AMOUNT,\r\n            \"Sl No\": index + 1,\r\n            \"Product Name\": item.PRODUCT_NAME,\r\n            Package:\r\n              item.PRD_PACKAGE_UNIT + \" \" + item.UNIT_OF_MEASUREMENT_SHORT_KEY,\r\n              Unit:\r\n              item.ORDER_ITEM_UNIT_QTY,\r\n            Quantity:\r\n              item.ORDER_ITEM_QTY,\r\n            MRP: item.PRD_PACKAGE_MRP,\r\n            \"Customer Price\": item.ORDER_ITEM_CUSTOMER_PRICE,\r\n            \"Total Amount\": item.ORDER_ITEM_TOTAL_AMOUNT,\r\n            Discount: item.ORDER_ITEM_DISCOUNT + \"%\",\r\n            \"Free Unit/Scheme\": item.ORDER_ITEM_FREE_UNIT_SCHEME,\r\n          };\r\n        });\r\n        setResponseData(items);\r\n        document.getElementById(\"divLoading\").className = \"hide\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const ViewBatchNumbers = (itemID, ProductID) => {\r\n    document.getElementById(\"divLoading\").className = \"show\";\r\n    axios({\r\n      method: \"GET\",\r\n      url:\r\n        MyApiUrl +\r\n        \"/getProductBatchNumbers/\" +\r\n        Orderpkid +\r\n        \"/\" +\r\n        itemID +\r\n        \"/\" +\r\n        ProductID +\r\n        \"\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        const items = response.data.map((item, index) => {\r\n          return {\r\n            ...item,\r\n            \"Sl No\": index + 1,\r\n            Batch: item.PRODUCT_BATCH,\r\n            \"Batch Number\": item.PRODUCT_BATCH_NUMBER,\r\n            \"Batch Quantity\": item.PRODUCT_BATCH_QUANTITY,\r\n          };\r\n        });\r\n        setBatchNumbers(items);\r\n        document.getElementById(\"divLoading\").className = \"hide\";\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n    setblock(!block);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    GetAllOrderItems();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  let history = useHistory();\r\n  return (\r\n    <div>\r\n      <div id=\"divLoading\"> </div>\r\n      <h1 id=\"ccmaster\">Order Item</h1>\r\n      <br />\r\n      <CRow>\r\n        <CCol md=\"2\" />\r\n        <CCol md=\"12\">\r\n          <CCard style={{ boxShadow: \"0px 0px 1px 1px #959595\" }}>\r\n            <CCardBody>\r\n              <CRow>\r\n                <CCol md=\"1\">\r\n                  <CButton\r\n                    color=\"danger\"\r\n                    size=\"sm\"\r\n                    onClick={() => history.goBack()}\r\n                  >\r\n                    Back\r\n                  </CButton>\r\n                </CCol>\r\n              </CRow>\r\n              <br />\r\n              <CRow>\r\n                <CCol>\r\n                  <CCard>\r\n                    <CCardHeader>Order Details</CCardHeader>\r\n                    <CCardBody>\r\n                      <CRow>\r\n                        <CCol md=\"6\">\r\n                          <p className=\"p1\">Order Number :</p>\r\n                          <p className=\"p1\">Company :</p>\r\n                          <p className=\"p1\">Customer Name :</p>\r\n                          <p className=\"p1\">Logistic :</p>\r\n                          <p className=\"p1\">Supply Type :</p>\r\n                          <p className=\"p1\">Order Amount :</p>\r\n                        </CCol>\r\n                        <CCol md=\"6\">\r\n                          <p className=\"p2\">{OrderNumber}</p>\r\n                          <p className=\"p2\">{Company}</p>\r\n                          <p className=\"p2\"> {Customer}</p>\r\n                          <p className=\"p2\">{Logistic}</p>\r\n                          <p className=\"p2\">{SupplyType}</p>\r\n                          <p className=\"p2\">{Amount}</p>\r\n                        </CCol>\r\n                      </CRow>\r\n                      <hr />\r\n                      <CRow>\r\n                        <CCol md=\"4\">\r\n                          <h4 className=\"p1\">Order Items / Products</h4>\r\n                        </CCol>\r\n                      </CRow>\r\n                      <br />\r\n                      {OrderTypeID === 3 || OrderTypeID === 4 || OrderTypeID === 5 ?\r\n                        <CDataTable\r\n                          items={ResponseData}\r\n                          fields={fields3}\r\n                          hover\r\n                          striped\r\n                          bordered\r\n                          sorter\r\n                          tableFilter={table}\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          size=\"sm\"\r\n                          itemsPerPageSelect={items}\r\n                          scopedSlots={{\r\n                            \"Batch No\": (i) => (\r\n                              <td>\r\n                                <CRow>\r\n                                  <CCol md=\"8\">\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      size=\"sm\"\r\n                                      id=\"AddEmp\"\r\n                                      onClick={() => {\r\n                                        ViewBatchNumbers(\r\n                                          i.ORDER_ITEM_PKID,\r\n                                          i.ORDER_ITEM_PRODUCT_FKID\r\n                                        );\r\n                                      }}\r\n                                    >\r\n                                      View\r\n                                    </CButton>\r\n                                  </CCol>\r\n                                </CRow>\r\n                              </td>\r\n                            ),\r\n                          }}\r\n                        /> : <CDataTable\r\n                          items={ResponseData}\r\n                          fields={fields}\r\n                          hover\r\n                          striped\r\n                          bordered\r\n                          sorter\r\n                          tableFilter={table}\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          size=\"sm\"\r\n                          itemsPerPageSelect={items}\r\n                          scopedSlots={{\r\n                            \"Batch No\": (i) => (\r\n                              <td>\r\n                                <CRow>\r\n                                  <CCol md=\"8\">\r\n                                    <CButton\r\n                                      color=\"primary\"\r\n                                      size=\"sm\"\r\n                                      id=\"AddEmp\"\r\n                                      onClick={() => {\r\n                                        ViewBatchNumbers(\r\n                                          i.ORDER_ITEM_PKID,\r\n                                          i.ORDER_ITEM_PRODUCT_FKID\r\n                                        );\r\n                                      }}\r\n                                    >\r\n                                      View\r\n                                    </CButton>\r\n                                  </CCol>\r\n                                </CRow>\r\n                              </td>\r\n                            ),\r\n                          }}\r\n                        />}\r\n                    </CCardBody>\r\n                  </CCard>\r\n                </CCol>\r\n              </CRow>\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n        <CCol md=\"2\" />\r\n      </CRow>\r\n      <CModal show={block} onClose={() => setblock(!block)} color=\"dark\">\r\n        <CModalHeader closeButton>\r\n          <CModalTitle>Product Batch Numbers</CModalTitle>\r\n        </CModalHeader>\r\n        <CModalBody>\r\n          <CRow>\r\n            <CCol md=\"12\">\r\n              <CDataTable\r\n                items={BatchNumbers}\r\n                fields={fields2}\r\n                hover\r\n                striped\r\n                bordered\r\n                sorter\r\n                tableFilter={table}\r\n                itemsPerPage={10}\r\n                pagination\r\n                size=\"sm\"\r\n                itemsPerPageSelect={items}\r\n              />\r\n            </CCol>\r\n          </CRow>\r\n        </CModalBody>\r\n        <CModalFooter>\r\n          <CButton color=\"secondary\" onClick={() => setblock(!block)}>\r\n            Close\r\n          </CButton>\r\n        </CModalFooter>\r\n      </CModal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderItems;\r\n"],"sourceRoot":""}