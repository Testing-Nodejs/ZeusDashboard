(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[82],{624:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var c="https://zeusservices.onrender.com/api/",o="https://zeusservices.onrender.com/"},625:function(e,t,n){},629:function(e,t,n){"use strict";function c(e){var t=e.date,n=new Date(new Date(t).toISOString().split("T")[0]);return"".concat(n.getDate().toString().padStart(2,"0"),"-").concat((n.getMonth()+1).toString().padStart(2,"0"),"-").concat(n.getFullYear())}n.d(t,"a",(function(){return c}))},843:function(e,t,n){"use strict";n.r(t);var c=n(25),o=n(627),i=n(1),a=n.n(i),r=n(628),s=n.n(r),d=n(630),l=n.n(d),u=n(626),j=n(624),m=n(20),h=n(629),O=(n(625),n(12)),b={placeholder:"Search here...",label:"Search:  "},E={label:"Rows:",values:[5,10,25,50,75,100]},f=[{key:"Action"},{key:"Employee Name"},{key:"Is Manager"},{key:"Leave Count"},{key:"Leave Type"},{key:"From Date"},{key:"To Date"},{key:"Reason"},{key:"Attachment"}];t.default=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],d=Object(i.useState)(!1),x=Object(o.a)(d,2),p=x[0],v=x[1],g=Object(i.useState)(),y=Object(o.a)(g,2),L=y[0],A=y[1],k=Object(i.useState)(),S=Object(o.a)(k,2),_=S[0],B=S[1],C=Object(i.useState)(!1),I=Object(o.a)(C,2),T=I[0],D=I[1],w=Object(i.useState)(""),N=Object(o.a)(w,2),R=N[0],F=N[1],V=(l.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",l.a.stopTimer),e.addEventListener("mouseleave",l.a.resumeTimer)}}),function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:j.a+"leaves",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e){var t="";return t=1===e.EMPOLYEE_IS_MANAGER?"Manager":"Officer",Object(c.a)(Object(c.a)({},e),{},{"Is Manager":t,"Employee Name":e.EMPLOYEE_NAME,"Leave Type":e.LEAVE_TYPE})}));r(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))});a.a.useEffect((function(){V()}),[]);var P=Object(m.g)();return Object(O.jsxs)("div",{id:"city",children:[Object(O.jsx)("div",{id:"divLoading",children:" "}),Object(O.jsx)("h1",{id:"ccmaster",children:"Employee Leave Request"}),Object(O.jsx)(u.H,{style:{marginTop:"3%"},children:Object(O.jsx)(u.j,{col:"12",children:Object(O.jsx)(u.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(O.jsx)(u.f,{children:Object(O.jsx)(u.H,{children:Object(O.jsx)(u.j,{children:Object(O.jsxs)(u.e,{children:[Object(O.jsx)(u.i,{children:"View Employee Leave Request"}),Object(O.jsx)(u.f,{children:Object(O.jsx)(u.m,{items:n,fields:f,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:b,itemsPerPageSelect:E,columnFilterSlot:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{"From Date":function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(h.a,{date:e.LEAVE_FROM_DATE})})},"To Date":function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(h.a,{date:e.LEAVE_TO_DATE})})},Attachment:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(u.A,{href:j.b+"/"+e.LEAVE_FILE,target:"_blank",children:e.LEAVE_FILE})})},"Leave Count":function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(u.d,{onClick:function(){return P.push("/EmployeeAllLeaves",{data:e})},children:e.LeaveCount})})},Reason:function(e){return Object(O.jsx)("td",{children:Object(O.jsx)(u.H,{children:Object(O.jsx)(u.j,{md:"8",children:Object(O.jsx)(u.d,{color:"primary",size:"sm",id:"AddEmp",onClick:function(){var t;t=e.LEAVE_PKID,document.getElementById("divLoading").className="show",s()({method:"GET",url:j.a+"leavereason/"+t,headers:{"content-type":"application/json"}}).then((function(e){A(e.data[0].LEAVE_REASON),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),v(!p)},children:"View"})})})})},Action:function(e){return Object(O.jsxs)("td",{children:[Object(O.jsxs)(u.d,{onClick:function(){var t;t=e.LEAVE_PKID,document.getElementById("divLoading").className="show",s.a.put(j.a+"acceptleaves/"+t).then((function(e){!0===e.data?(l.a.fire({title:"Leave Confirmed!",icon:"success",confirmButtonText:"OK"}),V(),document.getElementById("divLoading").className="hide"):(l.a.fire({title:"Failed!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))},size:"sm",color:"success",children:["Accept",e.status]}),"\xa0\xa0\xa0",Object(O.jsx)(u.d,{onClick:function(){var t;t=e.LEAVE_PKID,D(!T),B(t)},size:"sm",color:"danger",children:"Deny"})]})}}})})]})})})})})})}),Object(O.jsxs)(u.B,{show:p,onClose:function(){return v(!p)},color:"dark",children:[Object(O.jsx)(u.E,{closeButton:!0,children:Object(O.jsx)(u.F,{children:"Reason"})}),Object(O.jsx)(u.C,{children:Object(O.jsx)("p",{children:L})}),Object(O.jsx)(u.D,{children:Object(O.jsx)(u.d,{color:"secondary",onClick:function(){return v(!p)},children:"Close"})})]}),Object(O.jsxs)(u.B,{show:T,onClose:function(){return D(!T)},color:"dark",children:[Object(O.jsx)(u.E,{closeButton:!0,children:Object(O.jsx)(u.F,{children:"Remark"})}),Object(O.jsx)(u.C,{children:Object(O.jsx)(u.H,{style:{padding:"0% 5% 0% 5% !important"},children:Object(O.jsx)(u.R,{class:"form-control",value:R,onChange:function(e){F(e.target.value)},id:"exampleFormControlTextarea1",rows:"3",style:{height:"200px",fontSize:"16px"}})})}),Object(O.jsxs)(u.D,{children:[Object(O.jsx)(u.d,{color:"secondary",onClick:function(){return D(!T)},children:"Close"}),Object(O.jsx)(u.d,{color:"secondary",onClick:function(){if(confirm("Are you sure you want to Deny")){document.getElementById("divLoading").className="show";var e={LEAVE_PKID:_,LEAVE_REMARKS:R};s.a.put(j.a+"rejectleaves/"+_,e).then((function(e){!0===e.data?(l.a.fire({title:"Leave Request Denied!",icon:"success",confirmButtonText:"OK"}),D(!T),F(""),V(),document.getElementById("divLoading").className="hide"):(l.a.fire({title:"Failed!",icon:"error",confirmButtonText:"OK"}),document.getElementById("divLoading").className="hide")}))}},children:"Submit"})]})]})]})}}}]);
//# sourceMappingURL=82.ef631b1b.chunk.js.map