(this.webpackJsonpzeus_cms_kimo=this.webpackJsonpzeus_cms_kimo||[]).push([[138],{624:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a="https://zeusservices.onrender.com/api/",c="https://zeusservices.onrender.com/"},625:function(e,t,n){},889:function(e,t,n){"use strict";n.r(t);var a=n(25),c=n(627),o=n(1),i=n.n(o),r=n(628),s=n.n(r),l=n(626),d=n(624),E=n(20),p=(n(625),n(12)),u={placeholder:"Search here...",label:"Search:  "},m={label:"Rows:",values:[5,10,25,50,75,100]},j=[{key:"SL No"},{key:"Employee Type"},{key:"Sub Type"},{key:"HQ"},{key:"Company"},{key:"Employee Name"},{key:"Is Manager"},{key:"Leave Count"}];t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],h=Object(o.useState)([]),b=Object(c.a)(h,2),y=b[0],O=b[1];i.a.useEffect((function(){document.getElementById("divLoading").className="show",s()({method:"GET",url:d.a+"leavesforallemps",headers:{"content-type":"application/json"}}).then((function(e){var t=e.data.map((function(e,t){var n="";return n=1===e.EMPOLYEE_IS_MANAGER?"Manager":"Officer",Object(a.a)(Object(a.a)({},e),{},{"Employee Type":e.EMPLOYEE_TYPE_NAME,"Sub Type":e.EMPLOYEE_SUB_TYPE_NAME,HQ:e.HQ_NAME,Company:e.COMPANY_NAME,"SL No":t+1,"Employee Name":e.EMPLOYEE_NAME,"Is Manager":n})}));r(t),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)})),s()({method:"GET",url:d.a+"getallLeavesinfo",headers:{"content-type":"application/json"}}).then((function(e){O(e.data),document.getElementById("divLoading").className="hide"})).catch((function(e){console.log(e)}))}),[]);var v=Object(E.g)();return Object(p.jsxs)("div",{id:"city",children:[Object(p.jsx)("div",{id:"divLoading",children:" "}),Object(p.jsx)("h1",{id:"ccmaster",children:"Employee Leaves"}),Object(p.jsx)(l.H,{style:{marginTop:"3%"},children:Object(p.jsx)(l.j,{col:"12",children:Object(p.jsx)(l.e,{style:{boxShadow:"0px 0px 1px 1px #959595"},children:Object(p.jsx)(l.f,{children:Object(p.jsx)(l.H,{children:Object(p.jsx)(l.j,{children:Object(p.jsxs)(l.e,{children:[Object(p.jsx)(l.i,{children:Object(p.jsxs)(l.H,{children:[Object(p.jsx)(l.j,{col:"6",children:"View All Employee Leaves"}),Object(p.jsx)(l.j,{col:"6",children:Object(p.jsx)(l.d,{onClick:function(){document.getElementById("divLoading").className="show";var e=0,t=new Array;t.push('"Sl No","Employee Type","Sub Type","\tHQ","Company","Employee Name","Is Manager","Leave Count","Leave Type","From Date","To Date","Reason","Status"');var n="",a="";y.map((function(c){n="1"===c.EMPOLYEE_IS_MANAGER||1===c.EMPOLYEE_IS_MANAGER?"Manager":"Officer",a=0===c.LEAVE_ISACTIVE?"Pending":1===c.LEAVE_ISACTIVE?"Accepted":"Rejected";var o=new Date(new Date(c.LEAVE_FROM_DATE).toISOString().split("T")[0]),i="".concat(o.getDate().toString().padStart(2,"0"),"-").concat((o.getMonth()+1).toString().padStart(2,"0"),"-").concat(o.getFullYear()),r=new Date(new Date(c.LEAVE_TO_DATE).toISOString().split("T")[0]),s="".concat(r.getDate().toString().padStart(2,"0"),"-").concat((r.getMonth()+1).toString().padStart(2,"0"),"-").concat(r.getFullYear());return e++,t.push('"'+e+'","'+c.EMPLOYEE_TYPE_NAME+'","'+c.EMPLOYEE_SUB_TYPE_NAME+'","'+c.HQ_NAME+'","'+c.COMPANY_NAME+'","'+c.EMPLOYEE_NAME+'","'+n+'","'+c.LeaveCount+'","'+c.LEAVE_TYPE+'","'+i+'","'+s+'","'+c.LEAVE_REASON+'","'+a+'"')}));var c="Employee Leaves.csv",o=t.join("\n"),i=new Blob([o],{type:"text/csv;charset=utf8;"}),r=document.createElement("a");void 0!==r.download?(r.setAttribute("href",window.URL.createObjectURL(i)),r.setAttribute("download",c),r.style="visibility:hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)):navigator.msSaveBlob&&navigator.msSaveBlob(i,c),document.getElementById("divLoading").className="hide"},color:"primary",style:{marginTop:"0%"},size:"sm",id:"AddEmp",children:"Export To Excel"})})]})}),Object(p.jsx)(l.f,{children:Object(p.jsx)(l.m,{items:n,fields:j,hover:!0,striped:!0,bordered:!0,sorter:!0,tableFilter:u,itemsPerPageSelect:m,columnFilterSlot:!0,size:"sm",itemsPerPage:10,pagination:!0,scopedSlots:{"Leave Count":function(e){return Object(p.jsx)("td",{children:Object(p.jsx)(l.d,{onClick:function(){return v.push("/EmployeeAllLeaves",{data:e})},children:e.LeaveCount})})}}})})]})})})})})})})]})}}}]);
//# sourceMappingURL=138.222e2f4d.chunk.js.map